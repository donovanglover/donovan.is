var q9=function(J){const j=J instanceof Element?J:J instanceof Node?J.parentElement:null,Q=j?j.closest("input, button"):null;return(Q===null||Q===void 0?void 0:Q.type)=="submit"?Q:null},V9=function(J){const j=q9(J.target);if(j&&j.form)w0.set(j.form,j)},N9=function(J){switch(J.toLowerCase()){case"lazy":return x.lazy;default:return x.eager}},C=function(J){return new URL(J.toString(),document.baseURI)},_=function(J){let j;if(J.hash)return J.hash.slice(1);else if(j=J.href.match(/#(.*)$/))return j[1]},Z0=function(J,j){const Q=(j===null||j===void 0?void 0:j.getAttribute("formaction"))||J.getAttribute("action")||J.action;return C(Q)},Z9=function(J){return(A9(J).match(/\.[^.]*$/)||[])[0]||""},O9=function(J){return!!Z9(J).match(/^(?:|\.(?:htm|html|xhtml|php))$/)},C9=function(J,j){const Q=F9(j);return J.href===C(Q).href||J.href.startsWith(Q)},g=function(J,j){return C9(J,j)&&O9(J)},B0=function(J){const j=_(J);return j!=null?J.href.slice(0,-(j.length+1)):J.href},a=function(J){return B0(J)},H9=function(J,j){return C(J).href==C(j).href},z9=function(J){return J.pathname.split("/").slice(1)},A9=function(J){return z9(J).slice(-1)[0]},F9=function(J){return M9(J.origin+J.pathname)},M9=function(J){return J.endsWith("/")?J:J+"/"},h=function(J){if(J.getAttribute("data-turbo-eval")=="false")return J;else{const j=document.createElement("script"),Q=t("csp-nonce");if(Q)j.nonce=Q;return j.textContent=J.textContent,j.async=!1,I9(j,J),j}},I9=function(J,j){for(let{name:Q,value:G}of j.attributes)J.setAttribute(Q,G)},k9=function(J){const j=document.createElement("template");return j.innerHTML=J,j.content},O=function(J,{target:j,cancelable:Q,detail:G}={}){const Y=new CustomEvent(J,{cancelable:Q,bubbles:!0,composed:!0,detail:G});if(j&&j.isConnected)j.dispatchEvent(Y);else document.documentElement.dispatchEvent(Y);return Y},i=function(){return new Promise((J)=>requestAnimationFrame(()=>J()))},y9=function(){return new Promise((J)=>setTimeout(()=>J(),0))},R9=function(){return Promise.resolve()},g0=function(J=""){return new DOMParser().parseFromString(J,"text/html")},S0=function(J,...j){const Q=P9(J,j).replace(/^\n/,"").split("\n"),G=Q[0].match(/^\s+/),Y=G?G[0].length:0;return Q.map((K)=>K.slice(Y)).join("\n")},P9=function(J,j){return J.reduce((Q,G,Y)=>{const K=j[Y]==void 0?"":j[Y];return Q+G+K},"")},S=function(){return Array.from({length:36}).map((J,j)=>{if(j==8||j==13||j==18||j==23)return"-";else if(j==14)return"4";else if(j==19)return(Math.floor(Math.random()*4)+8).toString(16);else return Math.floor(Math.random()*15).toString(16)}).join("")},n=function(J,...j){for(let Q of j.map((G)=>G===null||G===void 0?void 0:G.getAttribute(J)))if(typeof Q=="string")return Q;return null},T9=function(J,...j){return j.some((Q)=>Q&&Q.hasAttribute(J))},q0=function(...J){for(let j of J){if(j.localName=="turbo-frame")j.setAttribute("busy","");j.setAttribute("aria-busy","true")}},V0=function(...J){for(let j of J){if(j.localName=="turbo-frame")j.removeAttribute("busy");j.removeAttribute("aria-busy")}},D9=function(J,j=2000){return new Promise((Q)=>{const G=()=>{J.removeEventListener("error",G),J.removeEventListener("load",G),Q()};J.addEventListener("load",G,{once:!0}),J.addEventListener("error",G,{once:!0}),setTimeout(Q,j)})},h0=function(J){switch(J){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}},L9=function(J){return J=="advance"||J=="replace"||J=="restore"},G0=function(...J){const j=n("data-turbo-action",...J);return L9(j)?j:null},u0=function(J){return document.querySelector(`meta[name="${J}"]`)},t=function(J){const j=u0(J);return j&&j.content},$9=function(J,j){let Q=u0(J);if(!Q)Q=document.createElement("meta"),Q.setAttribute("name",J),document.head.appendChild(Q);return Q.setAttribute("content",j),Q},e=function(J,j){var Q;if(J instanceof Element)return J.closest(j)||e(J.assignedSlot||((Q=J.getRootNode())===null||Q===void 0?void 0:Q.host),j)},x9=function(J){switch(J.toLowerCase()){case"get":return z.get;case"post":return z.post;case"put":return z.put;case"patch":return z.patch;case"delete":return z.delete}},b9=function(J){for(let j of J.querySelectorAll("turbo-stream")){const Q=document.importNode(j,!0);for(let G of Q.templateElement.content.querySelectorAll("script"))G.replaceWith(h(G));j.replaceWith(Q)}return J},E9=function(J){switch(J.toLowerCase()){case $.multipart:return $.multipart;case $.plain:return $.plain;default:return $.urlEncoded}},_9=function(J,j){const Q=new FormData(J),G=j===null||j===void 0?void 0:j.getAttribute("name"),Y=j===null||j===void 0?void 0:j.getAttribute("value");if(G)Q.append(G,Y||"");return Q},f9=function(J){if(J!=null){const Q=(document.cookie?document.cookie.split("; "):[]).find((G)=>G.startsWith(J));if(Q){const G=Q.split("=").slice(1).join("=");return G?decodeURIComponent(G):void 0}}},v9=function(J){return J.statusCode==200&&!J.redirected},w9=function(J,j){const Q=new URLSearchParams;for(let[G,Y]of j){if(Y instanceof File)continue;Q.append(G,Y)}return J.search=Q.toString(),J},d0=function(J,j){return J.querySelector(`#${j}[data-turbo-permanent]`)},p0=function(J){return J.querySelectorAll("[id][data-turbo-permanent]")},g9=function(J,j){return((j===null||j===void 0?void 0:j.getAttribute("formmethod"))||J.getAttribute("method"))!="dialog"},S9=function(J,j){if((j===null||j===void 0?void 0:j.hasAttribute("formtarget"))||J.hasAttribute("target")){const Q=(j===null||j===void 0?void 0:j.getAttribute("formtarget"))||J.target;for(let G of document.getElementsByName(Q))if(G instanceof HTMLIFrameElement)return!1;return!0}else return!0},h9=function(J){if(J.hasAttribute("target")){for(let j of document.getElementsByName(J.target))if(j instanceof HTMLIFrameElement)return!1;return!0}else return!0},u9=function(J){const j=document.createElement("meta");return j.setAttribute("name","turbo-permanent-placeholder"),j.setAttribute("content",J.id),j},c9=function(J){return J&&typeof J.focus=="function"},d9=function(J,j){if(J=="end"||J=="start"||J=="center"||J=="nearest")return J;else return j},p9=function(J,j){if(J=="auto"||J=="smooth")return J;else return j},m9=function(J){if(r9(J))return"script";else if(o9(J))return"stylesheet"},l9=function(J){return J.getAttribute("data-turbo-track")=="reload"},r9=function(J){return J.localName=="script"},s9=function(J){return J.localName=="noscript"},o9=function(J){const j=J.localName;return j=="style"||j=="link"&&J.getAttribute("rel")=="stylesheet"},a9=function(J,j){return J.localName=="meta"&&J.getAttribute("name")==j},i9=function(J){if(J.hasAttribute("nonce"))J.setAttribute("nonce","");return J},E0=function(J){return J>=200&&J<300},t9=function(J){const j=p0(document.documentElement),Q={};for(let G of j){const{id:Y}=G;for(let K of J.querySelectorAll("turbo-stream")){const X=d0(K.templateElement.content,Y);if(X)Q[Y]=[G,X]}}return Q},e9=function(J){var j;const Q=(j=J.detail)===null||j===void 0?void 0:j.fetchResponse;if(Q instanceof Q0)return Q},JJ=function(J){var j;return((j=J.contentType)!==null&&j!==void 0?j:"").startsWith(E.contentType)},_0=function(J){Object.defineProperties(J,jJ)},U1=function(){N.start()},YJ=function(J){N.registerAdapter(J)},KJ=function(J,j){N.visit(J,j)},B1=function(J){N.connectStreamSource(J)},q1=function(J){N.disconnectStreamSource(J)},XJ=function(J){N.renderStreamMessage(J)},WJ=function(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),N.clearCache()},UJ=function(J){N.setProgressBarDelay(J)},BJ=function(J){u.confirmMethod=J},qJ=function(J){N.setFormMode(J)},f0=function(J){if(J!=null){const j=document.getElementById(J);if(j instanceof T)return j}},v0=function(J,j){if(J){const Q=J.getAttribute("src");if(Q!=null&&j!=null&&H9(Q,j))throw new Error(`Matching <turbo-frame id="${J.id}"> element has a source URL which references itself`);if(J.ownerDocument!==document)J=document.importNode(J,!0);if(J instanceof T)return J.connectedCallback(),J.disconnectedCallback(),J}};(function(){if(window.Reflect===void 0||window.customElements===void 0||window.customElements.polyfillWrapFlushCallback)return;const J=HTMLElement,j={HTMLElement:function Q(){return Reflect.construct(J,[],this.constructor)}};window.HTMLElement=j.HTMLElement,HTMLElement.prototype=J.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,J)})();(function(J){if(typeof J.requestSubmit=="function")return;J.requestSubmit=function(G){if(G)j(G,this),G.click();else G=document.createElement("input"),G.type="submit",G.hidden=!0,this.appendChild(G),G.click(),this.removeChild(G)};function j(G,Y){G instanceof HTMLElement||Q(TypeError,"parameter 1 is not of type 'HTMLElement'"),G.type=="submit"||Q(TypeError,"The specified element is not a submit button"),G.form==Y||Q(DOMException,"The specified element is not owned by this form element","NotFoundError")}function Q(G,Y,K){throw new G("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+Y+".",K)}})(HTMLFormElement.prototype);var w0=new WeakMap;(function(){if("submitter"in Event.prototype)return;let J=window.Event.prototype;if(("SubmitEvent"in window)&&/Apple Computer/.test(navigator.vendor))J=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",V9,!0),Object.defineProperty(J,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return w0.get(this.target)}})})();var x;(function(J){J.eager="eager",J.lazy="lazy"})(x||(x={}));class T extends HTMLElement{static get observedAttributes(){return["disabled","complete","loading","src"]}constructor(){super();this.loaded=Promise.resolve(),this.delegate=new T.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(J){if(J=="loading")this.delegate.loadingStyleChanged();else if(J=="complete")this.delegate.completeChanged();else if(J=="src")this.delegate.sourceURLChanged();else this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(J){if(J)this.setAttribute("src",J);else this.removeAttribute("src")}get loading(){return N9(this.getAttribute("loading")||"")}set loading(J){if(J)this.setAttribute("loading",J);else this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(J){if(J)this.setAttribute("disabled","");else this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(J){if(J)this.setAttribute("autoscroll","");else this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var J,j;return(j=(J=this.ownerDocument)===null||J===void 0?void 0:J.documentElement)===null||j===void 0?void 0:j.hasAttribute("data-turbo-preview")}}class Q0{constructor(J){this.response=J}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return C(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){if(this.isHTML)return this.response.clone().text();else return Promise.resolve(void 0)}header(J){return this.response.headers.get(J)}}var z;(function(J){J[J.get=0]="get",J[J.post=1]="post",J[J.put=2]="put",J[J.patch=3]="patch",J[J.delete=4]="delete"})(z||(z={}));class Y0{constructor(J,j,Q,G=new URLSearchParams,Y=null){this.abortController=new AbortController,this.resolveRequestPromise=(K)=>{},this.delegate=J,this.method=j,this.headers=this.defaultHeaders,this.body=G,this.url=Q,this.target=Y}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){const{fetchOptions:J}=this;this.delegate.prepareRequest(this),await this.allowRequestToBeIntercepted(J);try{this.delegate.requestStarted(this);const j=await fetch(this.url.href,J);return await this.receive(j)}catch(j){if(j.name!=="AbortError"){if(this.willDelegateErrorHandling(j))this.delegate.requestErrored(this,j);throw j}}finally{this.delegate.requestFinished(this)}}async receive(J){const j=new Q0(J);if(O("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:j},target:this.target}).defaultPrevented)this.delegate.requestPreventedHandlingResponse(this,j);else if(j.succeeded)this.delegate.requestSucceededWithResponse(this,j);else this.delegate.requestFailedWithResponse(this,j);return j}get fetchOptions(){var J;return{method:z[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isSafe?null:this.body,signal:this.abortSignal,referrer:(J=this.delegate.referrer)===null||J===void 0?void 0:J.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return this.method===z.get}get abortSignal(){return this.abortController.signal}acceptResponseType(J){this.headers.Accept=[J,this.headers.Accept].join(", ")}async allowRequestToBeIntercepted(J){const j=new Promise((G)=>this.resolveRequestPromise=G);if(O("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:J,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented)await j}willDelegateErrorHandling(J){return!O("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:J}}).defaultPrevented}}class c0{constructor(J,j){this.started=!1,this.intersect=(Q)=>{const G=Q.slice(-1)[0];if(G===null||G===void 0?void 0:G.isIntersecting)this.delegate.elementAppearedInViewport(this.element)},this.delegate=J,this.element=j,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){if(!this.started)this.started=!0,this.intersectionObserver.observe(this.element)}stop(){if(this.started)this.started=!1,this.intersectionObserver.unobserve(this.element)}}class E{static wrap(J){if(typeof J=="string")return new this(k9(J));else return J}constructor(J){this.fragment=b9(J)}}E.contentType="text/vnd.turbo-stream.html";var L;(function(J){J[J.initialized=0]="initialized",J[J.requesting=1]="requesting",J[J.waiting=2]="waiting",J[J.receiving=3]="receiving",J[J.stopping=4]="stopping",J[J.stopped=5]="stopped"})(L||(L={}));var $;(function(J){J.urlEncoded="application/x-www-form-urlencoded",J.multipart="multipart/form-data",J.plain="text/plain"})($||($={}));class u{static confirmMethod(J,j,Q){return Promise.resolve(confirm(J))}constructor(J,j,Q,G=!1){if(this.state=L.initialized,this.delegate=J,this.formElement=j,this.submitter=Q,this.formData=_9(j,Q),this.location=C(this.action),this.method==z.get)w9(this.location,[...this.body.entries()]);this.fetchRequest=new Y0(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=G}get method(){var J;const j=((J=this.submitter)===null||J===void 0?void 0:J.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"";return x9(j.toLowerCase())||z.get}get action(){var J;const j=typeof this.formElement.action==="string"?this.formElement.action:null;if((J=this.submitter)===null||J===void 0?void 0:J.hasAttribute("formaction"))return this.submitter.getAttribute("formaction")||"";else return this.formElement.getAttribute("action")||j||""}get body(){if(this.enctype==$.urlEncoded||this.method==z.get)return new URLSearchParams(this.stringFormData);else return this.formData}get enctype(){var J;return E9(((J=this.submitter)===null||J===void 0?void 0:J.getAttribute("formenctype"))||this.formElement.enctype)}get isSafe(){return this.fetchRequest.isSafe}get stringFormData(){return[...this.formData].reduce((J,[j,Q])=>{return J.concat(typeof Q=="string"?[[j,Q]]:[])},[])}async start(){const{initialized:J,requesting:j}=L,Q=n("data-turbo-confirm",this.submitter,this.formElement);if(typeof Q==="string"){if(!await u.confirmMethod(Q,this.formElement,this.submitter))return}if(this.state==J)return this.state=j,this.fetchRequest.perform()}stop(){const{stopping:J,stopped:j}=L;if(this.state!=J&&this.state!=j)return this.state=J,this.fetchRequest.cancel(),!0}prepareRequest(J){if(!J.isSafe){const j=f9(t("csrf-param"))||t("csrf-token");if(j)J.headers["X-CSRF-Token"]=j}if(this.requestAcceptsTurboStreamResponse(J))J.acceptResponseType(E.contentType)}requestStarted(J){var j;this.state=L.waiting,(j=this.submitter)===null||j===void 0||j.setAttribute("disabled",""),this.setSubmitsWith(),O("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(J,j){this.result={success:j.succeeded,fetchResponse:j}}requestSucceededWithResponse(J,j){if(j.clientError||j.serverError)this.delegate.formSubmissionFailedWithResponse(this,j);else if(this.requestMustRedirect(J)&&v9(j)){const Q=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,Q)}else this.state=L.receiving,this.result={success:!0,fetchResponse:j},this.delegate.formSubmissionSucceededWithResponse(this,j)}requestFailedWithResponse(J,j){this.result={success:!1,fetchResponse:j},this.delegate.formSubmissionFailedWithResponse(this,j)}requestErrored(J,j){this.result={success:!1,error:j},this.delegate.formSubmissionErrored(this,j)}requestFinished(J){var j;this.state=L.stopped,(j=this.submitter)===null||j===void 0||j.removeAttribute("disabled"),this.resetSubmitterText(),O("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!this.submitter||!this.submitsWith)return;if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){const J=this.submitter;this.originalSubmitText=J.value,J.value=this.submitsWith}}resetSubmitterText(){if(!this.submitter||!this.originalSubmitText)return;if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){const J=this.submitter;J.value=this.originalSubmitText}}requestMustRedirect(J){return!J.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(J){return!J.isSafe||T9("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var J;return(J=this.submitter)===null||J===void 0?void 0:J.getAttribute("data-turbo-submits-with")}}class c{constructor(J){this.element=J}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(J){return this.getElementForAnchor(J)!=null}getElementForAnchor(J){return J?this.element.querySelector(`[id='${J}'], a[name='${J}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){for(let j of this.element.querySelectorAll("[autofocus]"))if(j.closest("[inert], :disabled, [hidden], details:not([open]), dialog:not([open])")==null)return j;else continue;return null}get permanentElements(){return p0(this.element)}getPermanentElementById(J){return d0(this.element,J)}getPermanentElementMapForSnapshot(J){const j={};for(let Q of this.permanentElements){const{id:G}=Q,Y=J.getPermanentElementById(G);if(Y)j[G]=[Q,Y]}return j}}class K0{constructor(J,j){this.started=!1,this.submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=(Q)=>{if(!Q.defaultPrevented){const G=Q.target instanceof HTMLFormElement?Q.target:void 0,Y=Q.submitter||void 0;if(G&&g9(G,Y)&&S9(G,Y)&&this.delegate.willSubmitForm(G,Y))Q.preventDefault(),Q.stopImmediatePropagation(),this.delegate.formSubmitted(G,Y)}},this.delegate=J,this.eventTarget=j}start(){if(!this.started)this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0}stop(){if(this.started)this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1}}class O0{constructor(J,j){this.resolveRenderPromise=(Q)=>{},this.resolveInterceptionPromise=(Q)=>{},this.delegate=J,this.element=j}scrollToAnchor(J){const j=this.snapshot.getElementForAnchor(J);if(j)this.scrollToElement(j),this.focusElement(j);else this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(J){this.scrollToAnchor(_(J))}scrollToElement(J){J.scrollIntoView()}focusElement(J){if(J instanceof HTMLElement)if(J.hasAttribute("tabindex"))J.focus();else J.setAttribute("tabindex","-1"),J.focus(),J.removeAttribute("tabindex")}scrollToPosition({x:J,y:j}){this.scrollRoot.scrollTo(J,j)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(J){const{isPreview:j,shouldRender:Q,newSnapshot:G}=J;if(Q)try{this.renderPromise=new Promise((W)=>this.resolveRenderPromise=W),this.renderer=J,await this.prepareToRenderSnapshot(J);const Y=new Promise((W)=>this.resolveInterceptionPromise=W),K={resume:this.resolveInterceptionPromise,render:this.renderer.renderElement};if(!this.delegate.allowsImmediateRender(G,K))await Y;await this.renderSnapshot(J),this.delegate.viewRenderedSnapshot(G,j),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(J)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate(J.reloadReason)}invalidate(J){this.delegate.viewInvalidated(J)}async prepareToRenderSnapshot(J){this.markAsPreview(J.isPreview),await J.prepareToRender()}markAsPreview(J){if(J)this.element.setAttribute("data-turbo-preview","");else this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(J){await J.render()}finishRenderingSnapshot(J){J.finishRendering()}}class m0 extends O0{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new c(this.element)}}class C0{constructor(J,j){this.clickBubbled=(Q)=>{if(this.respondsToEventTarget(Q.target))this.clickEvent=Q;else delete this.clickEvent},this.linkClicked=(Q)=>{if(this.clickEvent&&this.respondsToEventTarget(Q.target)&&Q.target instanceof Element){if(this.delegate.shouldInterceptLinkClick(Q.target,Q.detail.url,Q.detail.originalEvent))this.clickEvent.preventDefault(),Q.preventDefault(),this.delegate.linkClickIntercepted(Q.target,Q.detail.url,Q.detail.originalEvent)}delete this.clickEvent},this.willVisit=(Q)=>{delete this.clickEvent},this.delegate=J,this.element=j}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(J){const j=J instanceof Element?J:J instanceof Node?J.parentElement:null;return j&&j.closest("turbo-frame, html")==this.element}}class H0{constructor(J,j){this.started=!1,this.clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=(Q)=>{if(Q instanceof MouseEvent&&this.clickEventIsSignificant(Q)){const G=Q.composedPath&&Q.composedPath()[0]||Q.target,Y=this.findLinkFromClickTarget(G);if(Y&&h9(Y)){const K=this.getLocationForLink(Y);if(this.delegate.willFollowLinkToLocation(Y,K,Q))Q.preventDefault(),this.delegate.followedLinkToLocation(Y,K)}}},this.delegate=J,this.eventTarget=j}start(){if(!this.started)this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0}stop(){if(this.started)this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1}clickEventIsSignificant(J){return!(J.target&&J.target.isContentEditable||J.defaultPrevented||J.which>1||J.altKey||J.ctrlKey||J.metaKey||J.shiftKey)}findLinkFromClickTarget(J){return e(J,"a[href]:not([target^=_]):not([download])")}getLocationForLink(J){return C(J.getAttribute("href")||"")}}class z0{constructor(J,j){this.delegate=J,this.linkInterceptor=new H0(this,j)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}willFollowLinkToLocation(J,j,Q){return this.delegate.willSubmitFormLinkToLocation(J,j,Q)&&J.hasAttribute("data-turbo-method")}followedLinkToLocation(J,j){const Q=document.createElement("form");for(let[q,V]of j.searchParams)Q.append(Object.assign(document.createElement("input"),{type:"hidden",name:q,value:V}));const Y=Object.assign(j,{search:""});Q.setAttribute("data-turbo","true"),Q.setAttribute("action",Y.href),Q.setAttribute("hidden","");const K=J.getAttribute("data-turbo-method");if(K)Q.setAttribute("method",K);const X=J.getAttribute("data-turbo-frame");if(X)Q.setAttribute("data-turbo-frame",X);const W=G0(J);if(W)Q.setAttribute("data-turbo-action",W);const U=J.getAttribute("data-turbo-confirm");if(U)Q.setAttribute("data-turbo-confirm",U);if(J.hasAttribute("data-turbo-stream"))Q.setAttribute("data-turbo-stream","");this.delegate.submittedFormLinkToLocation(J,j,Q),document.body.appendChild(Q),Q.addEventListener("turbo:submit-end",()=>Q.remove(),{once:!0}),requestAnimationFrame(()=>Q.requestSubmit())}}class A0{static async preservingPermanentElements(J,j,Q){const G=new this(J,j);G.enter(),await Q(),G.leave()}constructor(J,j){this.delegate=J,this.permanentElementMap=j}enter(){for(let J in this.permanentElementMap){const[j,Q]=this.permanentElementMap[J];this.delegate.enteringBardo(j,Q),this.replaceNewPermanentElementWithPlaceholder(Q)}}leave(){for(let J in this.permanentElementMap){const[j]=this.permanentElementMap[J];this.replaceCurrentPermanentElementWithClone(j),this.replacePlaceholderWithPermanentElement(j),this.delegate.leavingBardo(j)}}replaceNewPermanentElementWithPlaceholder(J){const j=u9(J);J.replaceWith(j)}replaceCurrentPermanentElementWithClone(J){const j=J.cloneNode(!0);J.replaceWith(j)}replacePlaceholderWithPermanentElement(J){const j=this.getPlaceholderById(J.id);j===null||j===void 0||j.replaceWith(J)}getPlaceholderById(J){return this.placeholders.find((j)=>j.content==J)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}class X0{constructor(J,j,Q,G,Y=!0){this.activeElement=null,this.currentSnapshot=J,this.newSnapshot=j,this.isPreview=G,this.willRender=Y,this.renderElement=Q,this.promise=new Promise((K,X)=>this.resolvingFunctions={resolve:K,reject:X})}get shouldRender(){return!0}get reloadReason(){return}prepareToRender(){return}finishRendering(){if(this.resolvingFunctions)this.resolvingFunctions.resolve(),delete this.resolvingFunctions}async preservingPermanentElements(J){await A0.preservingPermanentElements(this,this.permanentElementMap,J)}focusFirstAutofocusableElement(){const J=this.connectedSnapshot.firstAutofocusableElement;if(c9(J))J.focus()}enteringBardo(J){if(this.activeElement)return;if(J.contains(this.currentSnapshot.activeElement))this.activeElement=this.currentSnapshot.activeElement}leavingBardo(J){if(J.contains(this.activeElement)&&this.activeElement instanceof HTMLElement)this.activeElement.focus(),this.activeElement=null}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}}class J0 extends X0{static renderElement(J,j){var Q;const G=document.createRange();G.selectNodeContents(J),G.deleteContents();const Y=j,K=(Q=Y.ownerDocument)===null||Q===void 0?void 0:Q.createRange();if(K)K.selectNodeContents(Y),J.appendChild(K.extractContents())}constructor(J,j,Q,G,Y,K=!0){super(j,Q,G,Y,K);this.delegate=J}get shouldRender(){return!0}async render(){await i(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await i(),this.focusFirstAutofocusableElement(),await i(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const J=this.currentElement.firstElementChild,j=d9(this.currentElement.getAttribute("data-autoscroll-block"),"end"),Q=p9(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(J)return J.scrollIntoView({block:j,behavior:Q}),!0}return!1}activateScriptElements(){for(let J of this.newScriptElements){const j=h(J);J.replaceWith(j)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}class P{static get defaultCSS(){return S0`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${P.animationDuration}ms ease-out,
          opacity ${P.animationDuration/2}ms ${P.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){if(!this.visible)this.visible=!0,this.installProgressElement(),this.startTrickling()}hide(){if(this.visible&&!this.hiding)this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1})}setValue(J){this.value=J,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(J){this.progressElement.style.opacity="0",setTimeout(J,P.animationDuration*1.5)}uninstallProgressElement(){if(this.progressElement.parentNode)document.documentElement.removeChild(this.progressElement)}startTrickling(){if(!this.trickleInterval)this.trickleInterval=window.setInterval(this.trickle,P.animationDuration)}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){const J=document.createElement("style");if(J.type="text/css",J.textContent=P.defaultCSS,this.cspNonce)J.nonce=this.cspNonce;return J}createProgressElement(){const J=document.createElement("div");return J.className="turbo-progress-bar",J}get cspNonce(){return t("csp-nonce")}}P.animationDuration=300;class l0 extends c{constructor(){super(...arguments);this.detailsByOuterHTML=this.children.filter((J)=>!s9(J)).map((J)=>i9(J)).reduce((J,j)=>{const{outerHTML:Q}=j,G=Q in J?J[Q]:{type:m9(j),tracked:l9(j),elements:[]};return Object.assign(Object.assign({},J),{[Q]:Object.assign(Object.assign({},G),{elements:[...G.elements,j]})})},{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter((J)=>this.detailsByOuterHTML[J].tracked).join("")}getScriptElementsNotInSnapshot(J){return this.getElementsMatchingTypeNotInSnapshot("script",J)}getStylesheetElementsNotInSnapshot(J){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",J)}getElementsMatchingTypeNotInSnapshot(J,j){return Object.keys(this.detailsByOuterHTML).filter((Q)=>!(Q in j.detailsByOuterHTML)).map((Q)=>this.detailsByOuterHTML[Q]).filter(({type:Q})=>Q==J).map(({elements:[Q]})=>Q)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((J,j)=>{const{type:Q,tracked:G,elements:Y}=this.detailsByOuterHTML[j];if(Q==null&&!G)return[...J,...Y];else if(Y.length>1)return[...J,...Y.slice(1)];else return J},[])}getMetaValue(J){const j=this.findMetaElementByName(J);return j?j.getAttribute("content"):null}findMetaElementByName(J){return Object.keys(this.detailsByOuterHTML).reduce((j,Q)=>{const{elements:[G]}=this.detailsByOuterHTML[Q];return a9(G,J)?G:j},void 0)}}class k extends c{static fromHTMLString(J=""){return this.fromDocument(g0(J))}static fromElement(J){return this.fromDocument(J.ownerDocument)}static fromDocument({head:J,body:j}){return new this(j,new l0(J))}constructor(J,j){super(J);this.headSnapshot=j}clone(){const J=this.element.cloneNode(!0),j=this.element.querySelectorAll("select"),Q=J.querySelectorAll("select");for(let[G,Y]of j.entries()){const K=Q[G];for(let X of K.selectedOptions)X.selected=!1;for(let X of Y.selectedOptions)K.options[X.index].selected=!0}for(let G of J.querySelectorAll('input[type="password"]'))G.value="";return new k(J,this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var J;const j=(J=this.getSetting("root"))!==null&&J!==void 0?J:"/";return C(j)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}getSetting(J){return this.headSnapshot.getMetaValue(`turbo-${J}`)}}var w;(function(J){J.visitStart="visitStart",J.requestStart="requestStart",J.requestEnd="requestEnd",J.visitEnd="visitEnd"})(w||(w={}));var I;(function(J){J.initialized="initialized",J.started="started",J.canceled="canceled",J.failed="failed",J.completed="completed"})(I||(I={}));var n9={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},b;(function(J){J[J.networkFailure=0]="networkFailure",J[J.timeoutFailure=-1]="timeoutFailure",J[J.contentTypeMismatch=-2]="contentTypeMismatch"})(b||(b={}));class r0{constructor(J,j,Q,G={}){this.identifier=S(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.shouldCacheSnapshot=!0,this.acceptsStreamResponse=!1,this.snapshotCached=!1,this.state=I.initialized,this.delegate=J,this.location=j,this.restorationIdentifier=Q||S();const{action:Y,historyChanged:K,referrer:X,snapshot:W,snapshotHTML:U,response:B,visitCachedSnapshot:q,willRender:V,updateHistory:H,shouldCacheSnapshot:y,acceptsStreamResponse:D}=Object.assign(Object.assign({},n9),G);this.action=Y,this.historyChanged=K,this.referrer=X,this.snapshot=W,this.snapshotHTML=U,this.response=B,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=q,this.willRender=V,this.updateHistory=H,this.scrolled=!V,this.shouldCacheSnapshot=y,this.acceptsStreamResponse=D}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){if(this.state==I.initialized)this.recordTimingMetric(w.visitStart),this.state=I.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this)}cancel(){if(this.state==I.started){if(this.request)this.request.cancel();this.cancelRender(),this.state=I.canceled}}complete(){if(this.state==I.started){if(this.recordTimingMetric(w.visitEnd),this.state=I.completed,this.followRedirect(),!this.followedRedirect)this.adapter.visitCompleted(this),this.delegate.visitCompleted(this)}}fail(){if(this.state==I.started)this.state=I.failed,this.adapter.visitFailed(this)}changeHistory(){var J;if(!this.historyChanged&&this.updateHistory){const j=this.location.href===((J=this.referrer)===null||J===void 0?void 0:J.href)?"replace":this.action,Q=h0(j);this.history.update(Q,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){if(this.hasPreloadedResponse())this.simulateRequest();else if(this.shouldIssueRequest()&&!this.request)this.request=new Y0(this,z.get,this.location),this.request.perform()}simulateRequest(){if(this.response)this.startRequest(),this.recordResponse(),this.finishRequest()}startRequest(){this.recordTimingMetric(w.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(J=this.response){if(this.response=J,J){const{statusCode:j}=J;if(E0(j))this.adapter.visitRequestCompleted(this);else this.adapter.visitRequestFailedWithStatusCode(this,j)}}finishRequest(){this.recordTimingMetric(w.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:J,responseHTML:j}=this.response;this.render(async()=>{if(this.shouldCacheSnapshot)this.cacheSnapshot();if(this.view.renderPromise)await this.view.renderPromise;if(E0(J)&&j!=null)await this.view.renderPage(k.fromHTMLString(j),!1,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),this.complete();else await this.view.renderError(k.fromHTMLString(j),this),this.adapter.visitRendered(this),this.fail()})}}getCachedSnapshot(){const J=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(J&&(!_(this.location)||J.hasAnchor(_(this.location)))){if(this.action=="restore"||J.isPreviewable)return J}}getPreloadedSnapshot(){if(this.snapshotHTML)return k.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){const J=this.getCachedSnapshot();if(J){const j=this.shouldIssueRequest();this.render(async()=>{if(this.cacheSnapshot(),this.isSamePage)this.adapter.visitRendered(this);else{if(this.view.renderPromise)await this.view.renderPromise;if(await this.view.renderPage(J,j,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),!j)this.complete()}})}}followRedirect(){var J;if(this.redirectedToLocation&&!this.followedRedirect&&((J=this.response)===null||J===void 0?void 0:J.redirected))this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0}goToSamePageAnchor(){if(this.isSamePage)this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(J){if(this.acceptsStreamResponse)J.acceptResponseType(E.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(J,j){}async requestSucceededWithResponse(J,j){const Q=await j.responseHTML,{redirected:G,statusCode:Y}=j;if(Q==void 0)this.recordResponse({statusCode:b.contentTypeMismatch,redirected:G});else this.redirectedToLocation=j.redirected?j.location:void 0,this.recordResponse({statusCode:Y,responseHTML:Q,redirected:G})}async requestFailedWithResponse(J,j){const Q=await j.responseHTML,{redirected:G,statusCode:Y}=j;if(Q==void 0)this.recordResponse({statusCode:b.contentTypeMismatch,redirected:G});else this.recordResponse({statusCode:Y,responseHTML:Q,redirected:G})}requestErrored(J,j){this.recordResponse({statusCode:b.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){if(!this.scrolled&&!this.view.forceReloaded){if(this.action=="restore")this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop();else this.scrollToAnchor()||this.view.scrollToTop();if(this.isSamePage)this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location);this.scrolled=!0}}scrollToRestoredPosition(){const{scrollPosition:J}=this.restorationData;if(J)return this.view.scrollToPosition(J),!0}scrollToAnchor(){const J=_(this.location);if(J!=null)return this.view.scrollToAnchor(J),!0}recordTimingMetric(J){this.timingMetrics[J]=(new Date()).getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(J){switch(J){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){if(this.isSamePage)return!1;else if(this.action=="restore")return!this.hasCachedSnapshot();else return this.willRender}cacheSnapshot(){if(!this.snapshotCached)this.view.cacheSnapshot(this.snapshot).then((J)=>J&&this.visitCachedSnapshot(J)),this.snapshotCached=!0}async render(J){this.cancelRender(),await new Promise((j)=>{this.frame=requestAnimationFrame(()=>j())}),await J(),delete this.frame}cancelRender(){if(this.frame)cancelAnimationFrame(this.frame),delete this.frame}}class s0{constructor(J){this.progressBar=new P,this.showProgressBar=()=>{this.progressBar.show()},this.session=J}visitProposedToLocation(J,j){this.navigator.startVisit(J,(j===null||j===void 0?void 0:j.restorationIdentifier)||S(),j)}visitStarted(J){this.location=J.location,J.loadCachedSnapshot(),J.issueRequest(),J.goToSamePageAnchor()}visitRequestStarted(J){if(this.progressBar.setValue(0),J.hasCachedSnapshot()||J.action!="restore")this.showVisitProgressBarAfterDelay();else this.showProgressBar()}visitRequestCompleted(J){J.loadResponse()}visitRequestFailedWithStatusCode(J,j){switch(j){case b.networkFailure:case b.timeoutFailure:case b.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:j}});default:return J.loadResponse()}}visitRequestFinished(J){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(J){}pageInvalidated(J){this.reload(J)}visitFailed(J){}visitRendered(J){}formSubmissionStarted(J){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(J){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){if(this.progressBar.hide(),this.visitProgressBarTimeout!=null)window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout}showFormProgressBarAfterDelay(){if(this.formProgressBarTimeout==null)this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideFormProgressBar(){if(this.progressBar.hide(),this.formProgressBarTimeout!=null)window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout}reload(J){var j;O("turbo:reload",{detail:J}),window.location.href=((j=this.location)===null||j===void 0?void 0:j.toString())||window.location.href}get navigator(){return this.session.navigator}}class o0{constructor(){this.selector="[data-turbo-temporary]",this.deprecatedSelector="[data-turbo-cache=false]",this.started=!1,this.removeTemporaryElements=(J)=>{for(let j of this.temporaryElements)j.remove()}}start(){if(!this.started)this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1)}stop(){if(this.started)this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1)}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){const J=document.querySelectorAll(this.deprecatedSelector);if(J.length)console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`);return[...J]}}class a0{constructor(J,j){this.session=J,this.element=j,this.linkInterceptor=new C0(this,j),this.formSubmitObserver=new K0(this,j)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(J,j,Q){return this.shouldRedirect(J)}linkClickIntercepted(J,j,Q){const G=this.findFrameElement(J);if(G)G.delegate.linkClickIntercepted(J,j,Q)}willSubmitForm(J,j){return J.closest("turbo-frame")==null&&this.shouldSubmit(J,j)&&this.shouldRedirect(J,j)}formSubmitted(J,j){const Q=this.findFrameElement(J,j);if(Q)Q.delegate.formSubmitted(J,j)}shouldSubmit(J,j){var Q;const G=Z0(J,j),Y=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),K=C((Q=Y===null||Y===void 0?void 0:Y.content)!==null&&Q!==void 0?Q:"/");return this.shouldRedirect(J,j)&&g(G,K)}shouldRedirect(J,j){if(J instanceof HTMLFormElement?this.session.submissionIsNavigatable(J,j):this.session.elementIsNavigatable(J)){const G=this.findFrameElement(J,j);return G?G!=J.closest("turbo-frame"):!1}else return!1}findFrameElement(J,j){const Q=(j===null||j===void 0?void 0:j.getAttribute("data-turbo-frame"))||J.getAttribute("data-turbo-frame");if(Q&&Q!="_top"){const G=this.element.querySelector(`#${Q}:not([disabled])`);if(G instanceof T)return G}}}class i0{constructor(J){this.restorationIdentifier=S(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=(j)=>{if(this.shouldHandlePopState()){const{turbo:Q}=j.state||{};if(Q){this.location=new URL(window.location.href);const{restorationIdentifier:G}=Q;this.restorationIdentifier=G,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,G)}}},this.onPageLoad=async(j)=>{await R9(),this.pageLoaded=!0},this.delegate=J}start(){if(!this.started)addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href))}stop(){if(this.started)removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1}push(J,j){this.update(history.pushState,J,j)}replace(J,j){this.update(history.replaceState,J,j)}update(J,j,Q=S()){const G={turbo:{restorationIdentifier:Q}};J.call(history,G,"",j.href),this.location=j,this.restorationIdentifier=Q}getRestorationDataForIdentifier(J){return this.restorationData[J]||{}}updateRestorationData(J){const{restorationIdentifier:j}=this,Q=this.restorationData[j];this.restorationData[j]=Object.assign(Object.assign({},Q),J)}assumeControlOfScrollRestoration(){var J;if(!this.previousScrollRestoration)this.previousScrollRestoration=(J=history.scrollRestoration)!==null&&J!==void 0?J:"auto",history.scrollRestoration="manual"}relinquishControlOfScrollRestoration(){if(this.previousScrollRestoration)history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}}class n0{constructor(J){this.delegate=J}proposeVisit(J,j={}){if(this.delegate.allowsVisitingLocationWithAction(J,j.action))if(g(J,this.view.snapshot.rootLocation))this.delegate.visitProposedToLocation(J,j);else window.location.href=J.toString()}startVisit(J,j,Q={}){this.stop(),this.currentVisit=new r0(this,C(J),j,Object.assign({referrer:this.location},Q)),this.currentVisit.start()}submitForm(J,j){this.stop(),this.formSubmission=new u(this,J,j,!0),this.formSubmission.start()}stop(){if(this.formSubmission)this.formSubmission.stop(),delete this.formSubmission;if(this.currentVisit)this.currentVisit.cancel(),delete this.currentVisit}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(J){if(typeof this.adapter.formSubmissionStarted==="function")this.adapter.formSubmissionStarted(J)}async formSubmissionSucceededWithResponse(J,j){if(J==this.formSubmission){const Q=await j.responseHTML;if(Q){const G=J.isSafe;if(!G)this.view.clearSnapshotCache();const{statusCode:Y,redirected:K}=j,W={action:this.getActionForFormSubmission(J),shouldCacheSnapshot:G,response:{statusCode:Y,responseHTML:Q,redirected:K}};this.proposeVisit(j.location,W)}}}async formSubmissionFailedWithResponse(J,j){const Q=await j.responseHTML;if(Q){const G=k.fromHTMLString(Q);if(j.serverError)await this.view.renderError(G,this.currentVisit);else await this.view.renderPage(G,!1,!0,this.currentVisit);this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(J,j){console.error(j)}formSubmissionFinished(J){if(typeof this.adapter.formSubmissionFinished==="function")this.adapter.formSubmissionFinished(J)}visitStarted(J){this.delegate.visitStarted(J)}visitCompleted(J){this.delegate.visitCompleted(J)}locationWithActionIsSamePage(J,j){const Q=_(J),G=_(this.view.lastRenderedLocation),Y=j==="restore"&&typeof Q==="undefined";return j!=="replace"&&B0(J)===B0(this.view.lastRenderedLocation)&&(Y||Q!=null&&Q!==G)}visitScrolledToSamePageLocation(J,j){this.delegate.visitScrolledToSamePageLocation(J,j)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission({submitter:J,formElement:j}){return G0(J,j)||"advance"}}var R;(function(J){J[J.initial=0]="initial",J[J.loading=1]="loading",J[J.interactive=2]="interactive",J[J.complete=3]="complete"})(R||(R={}));class t0{constructor(J){this.stage=R.initial,this.started=!1,this.interpretReadyState=()=>{const{readyState:j}=this;if(j=="interactive")this.pageIsInteractive();else if(j=="complete")this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=J}start(){if(!this.started){if(this.stage==R.initial)this.stage=R.loading;document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0}}stop(){if(this.started)document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1}pageIsInteractive(){if(this.stage==R.loading)this.stage=R.interactive,this.delegate.pageBecameInteractive()}pageIsComplete(){if(this.pageIsInteractive(),this.stage==R.interactive)this.stage=R.complete,this.delegate.pageLoaded()}get readyState(){return document.readyState}}class e0{constructor(J){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=J}start(){if(!this.started)addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0}stop(){if(this.started)removeEventListener("scroll",this.onScroll,!1),this.started=!1}updatePosition(J){this.delegate.scrollPositionChanged(J)}}class J1{render({fragment:J}){A0.preservingPermanentElements(this,t9(J),()=>document.documentElement.appendChild(J))}enteringBardo(J,j){j.replaceWith(J.cloneNode(!0))}leavingBardo(){}}class j1{constructor(J){this.sources=new Set,this.started=!1,this.inspectFetchResponse=(j)=>{const Q=e9(j);if(Q&&JJ(Q))j.preventDefault(),this.receiveMessageResponse(Q)},this.receiveMessageEvent=(j)=>{if(this.started&&typeof j.data=="string")this.receiveMessageHTML(j.data)},this.delegate=J}start(){if(!this.started)this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1)}stop(){if(this.started)this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1)}connectStreamSource(J){if(!this.streamSourceIsConnected(J))this.sources.add(J),J.addEventListener("message",this.receiveMessageEvent,!1)}disconnectStreamSource(J){if(this.streamSourceIsConnected(J))this.sources.delete(J),J.removeEventListener("message",this.receiveMessageEvent,!1)}streamSourceIsConnected(J){return this.sources.has(J)}async receiveMessageResponse(J){const j=await J.responseHTML;if(j)this.receiveMessageHTML(j)}receiveMessageHTML(J){this.delegate.receivedMessageFromStream(E.wrap(J))}}class N0 extends X0{static renderElement(J,j){const{documentElement:Q,body:G}=document;Q.replaceChild(j,G)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:J,head:j}=document;J.replaceChild(this.newHead,j),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(let J of this.scriptElements){const j=J.parentNode;if(j){const Q=h(J);j.replaceChild(Q,J)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}}class j0 extends X0{static renderElement(J,j){if(document.body&&j instanceof HTMLBodyElement)document.body.replaceWith(j);else document.documentElement.appendChild(j)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){await this.mergeHead()}async render(){if(this.willRender)await this.replaceBody()}finishRendering(){if(super.finishRendering(),!this.isPreview)this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){const J=this.mergeProvisionalElements(),j=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await J,await j}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){const J=[];for(let j of this.newHeadStylesheetElements)J.push(D9(j)),document.head.appendChild(j);await Promise.all(J)}copyNewHeadScriptElements(){for(let J of this.newHeadScriptElements)document.head.appendChild(h(J))}async mergeProvisionalElements(){const J=[...this.newHeadProvisionalElements];for(let j of this.currentHeadProvisionalElements)if(!this.isCurrentElementInElementList(j,J))document.head.removeChild(j);for(let j of J)document.head.appendChild(j)}isCurrentElementInElementList(J,j){for(let[Q,G]of j.entries()){if(J.tagName=="TITLE"){if(G.tagName!="TITLE")continue;if(J.innerHTML==G.innerHTML)return j.splice(Q,1),!0}if(G.isEqualNode(J))return j.splice(Q,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(let J of this.currentHeadProvisionalElements)document.head.removeChild(J)}copyNewHeadProvisionalElements(){for(let J of this.newHeadProvisionalElements)document.head.appendChild(J)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(let J of this.newBodyScriptElements){const j=h(J);J.replaceWith(j)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}class Q1{constructor(J){this.keys=[],this.snapshots={},this.size=J}has(J){return a(J)in this.snapshots}get(J){if(this.has(J)){const j=this.read(J);return this.touch(J),j}}put(J,j){return this.write(J,j),this.touch(J),j}clear(){this.snapshots={}}read(J){return this.snapshots[a(J)]}write(J,j){this.snapshots[a(J)]=j}touch(J){const j=a(J),Q=this.keys.indexOf(j);if(Q>-1)this.keys.splice(Q,1);this.keys.unshift(j),this.trim()}trim(){for(let J of this.keys.splice(this.size))delete this.snapshots[J]}}class G1 extends O0{constructor(){super(...arguments);this.snapshotCache=new Q1(10),this.lastRenderedLocation=new URL(location.href),this.forceReloaded=!1}renderPage(J,j=!1,Q=!0,G){const Y=new j0(this.snapshot,J,j0.renderElement,j,Q);if(!Y.shouldRender)this.forceReloaded=!0;else G===null||G===void 0||G.changeHistory();return this.render(Y)}renderError(J,j){j===null||j===void 0||j.changeHistory();const Q=new N0(this.snapshot,J,N0.renderElement,!1);return this.render(Q)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(J=this.snapshot){if(J.isCacheable){this.delegate.viewWillCacheSnapshot();const{lastRenderedLocation:j}=this;await y9();const Q=J.clone();return this.snapshotCache.put(j,Q),Q}}getCachedSnapshotForLocation(J){return this.snapshotCache.get(J)}get snapshot(){return k.fromElement(this.element)}}class Y1{constructor(J){this.selector="a[data-turbo-preload]",this.delegate=J}get snapshotCache(){return this.delegate.navigator.view.snapshotCache}start(){if(document.readyState==="loading")return document.addEventListener("DOMContentLoaded",()=>{this.preloadOnLoadLinksForView(document.body)});else this.preloadOnLoadLinksForView(document.body)}preloadOnLoadLinksForView(J){for(let j of J.querySelectorAll(this.selector))this.preloadURL(j)}async preloadURL(J){const j=new URL(J.href);if(this.snapshotCache.has(j))return;try{const G=await(await fetch(j.toString(),{headers:{"VND.PREFETCH":"true",Accept:"text/html"}})).text(),Y=k.fromHTMLString(G);this.snapshotCache.put(j,Y)}catch(Q){}}}class K1{constructor(){this.navigator=new n0(this),this.history=new i0(this),this.preloader=new Y1(this),this.view=new G1(this,document.documentElement),this.adapter=new s0(this),this.pageObserver=new t0(this),this.cacheObserver=new o0,this.linkClickObserver=new H0(this,window),this.formSubmitObserver=new K0(this,document),this.scrollObserver=new e0(this),this.streamObserver=new j1(this),this.formLinkClickObserver=new z0(this,document.documentElement),this.frameRedirector=new a0(this,document.documentElement),this.streamMessageRenderer=new J1,this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1,this.formMode="on"}start(){if(!this.started)this.pageObserver.start(),this.cacheObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0}disable(){this.enabled=!1}stop(){if(this.started)this.pageObserver.stop(),this.cacheObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1}registerAdapter(J){this.adapter=J}visit(J,j={}){const Q=j.frame?document.getElementById(j.frame):null;if(Q instanceof T)Q.src=J.toString(),Q.loaded;else this.navigator.proposeVisit(C(J),j)}connectStreamSource(J){this.streamObserver.connectStreamSource(J)}disconnectStreamSource(J){this.streamObserver.disconnectStreamSource(J)}renderStreamMessage(J){this.streamMessageRenderer.render(E.wrap(J))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(J){this.progressBarDelay=J}setFormMode(J){this.formMode=J}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(J,j){if(this.enabled)this.navigator.startVisit(J,j,{action:"restore",historyChanged:!0});else this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(J){this.history.updateRestorationData({scrollPosition:J})}willSubmitFormLinkToLocation(J,j){return this.elementIsNavigatable(J)&&g(j,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}willFollowLinkToLocation(J,j,Q){return this.elementIsNavigatable(J)&&g(j,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(J,j,Q)}followedLinkToLocation(J,j){const Q=this.getActionForLink(J),G=J.hasAttribute("data-turbo-stream");this.visit(j.href,{action:Q,acceptsStreamResponse:G})}allowsVisitingLocationWithAction(J,j){return this.locationWithActionIsSamePage(J,j)||this.applicationAllowsVisitingLocation(J)}visitProposedToLocation(J,j){_0(J),this.adapter.visitProposedToLocation(J,j)}visitStarted(J){if(!J.acceptsStreamResponse)q0(document.documentElement);if(_0(J.location),!J.silent)this.notifyApplicationAfterVisitingLocation(J.location,J.action)}visitCompleted(J){V0(document.documentElement),this.notifyApplicationAfterPageLoad(J.getTimingMetrics())}locationWithActionIsSamePage(J,j){return this.navigator.locationWithActionIsSamePage(J,j)}visitScrolledToSamePageLocation(J,j){this.notifyApplicationAfterVisitingSamePageLocation(J,j)}willSubmitForm(J,j){const Q=Z0(J,j);return this.submissionIsNavigatable(J,j)&&g(C(Q),this.snapshot.rootLocation)}formSubmitted(J,j){this.navigator.submitForm(J,j)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(J){this.renderStreamMessage(J)}viewWillCacheSnapshot(){var J;if(!((J=this.navigator.currentVisit)===null||J===void 0?void 0:J.silent))this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:J},j){const Q=this.notifyApplicationBeforeRender(J,j),{defaultPrevented:G,detail:{render:Y}}=Q;if(this.view.renderer&&Y)this.view.renderer.renderElement=Y;return!G}viewRenderedSnapshot(J,j){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}preloadOnLoadLinksForView(J){this.preloader.preloadOnLoadLinksForView(J)}viewInvalidated(J){this.adapter.pageInvalidated(J)}frameLoaded(J){this.notifyApplicationAfterFrameLoad(J)}frameRendered(J,j){this.notifyApplicationAfterFrameRender(J,j)}applicationAllowsFollowingLinkToLocation(J,j,Q){return!this.notifyApplicationAfterClickingLinkToLocation(J,j,Q).defaultPrevented}applicationAllowsVisitingLocation(J){return!this.notifyApplicationBeforeVisitingLocation(J).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(J,j,Q){return O("turbo:click",{target:J,detail:{url:j.href,originalEvent:Q},cancelable:!0})}notifyApplicationBeforeVisitingLocation(J){return O("turbo:before-visit",{detail:{url:J.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(J,j){return O("turbo:visit",{detail:{url:J.href,action:j}})}notifyApplicationBeforeCachingSnapshot(){return O("turbo:before-cache")}notifyApplicationBeforeRender(J,j){return O("turbo:before-render",{detail:Object.assign({newBody:J},j),cancelable:!0})}notifyApplicationAfterRender(){return O("turbo:render")}notifyApplicationAfterPageLoad(J={}){return O("turbo:load",{detail:{url:this.location.href,timing:J}})}notifyApplicationAfterVisitingSamePageLocation(J,j){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:J.toString(),newURL:j.toString()}))}notifyApplicationAfterFrameLoad(J){return O("turbo:frame-load",{target:J})}notifyApplicationAfterFrameRender(J,j){return O("turbo:frame-render",{detail:{fetchResponse:J},target:j,cancelable:!0})}submissionIsNavigatable(J,j){if(this.formMode=="off")return!1;else{const Q=j?this.elementIsNavigatable(j):!0;if(this.formMode=="optin")return Q&&J.closest('[data-turbo="true"]')!=null;else return Q&&this.elementIsNavigatable(J)}}elementIsNavigatable(J){const j=e(J,"[data-turbo]"),Q=e(J,"turbo-frame");if(this.drive||Q)if(j)return j.getAttribute("data-turbo")!="false";else return!0;else if(j)return j.getAttribute("data-turbo")=="true";else return!1}getActionForLink(J){return G0(J)||"advance"}get snapshot(){return this.view.snapshot}}var jJ={absoluteURL:{get(){return this.toString()}}};class X1{constructor(J){this.session=J}clear(){this.session.clearCache()}resetCacheControl(){this.setCacheControl("")}exemptPageFromCache(){this.setCacheControl("no-cache")}exemptPageFromPreview(){this.setCacheControl("no-preview")}setCacheControl(J){$9("turbo-cache-control",J)}}var W1={after(){this.targetElements.forEach((J)=>{var j;return(j=J.parentElement)===null||j===void 0?void 0:j.insertBefore(this.templateContent,J.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach((J)=>J.append(this.templateContent))},before(){this.targetElements.forEach((J)=>{var j;return(j=J.parentElement)===null||j===void 0?void 0:j.insertBefore(this.templateContent,J)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach((J)=>J.prepend(this.templateContent))},remove(){this.targetElements.forEach((J)=>J.remove())},replace(){this.targetElements.forEach((J)=>J.replaceWith(this.templateContent))},update(){this.targetElements.forEach((J)=>{J.innerHTML="",J.append(this.templateContent)})}},N=new K1,QJ=new X1(N),{navigator:GJ}=N,VJ=Object.freeze({__proto__:null,navigator:GJ,session:N,cache:QJ,PageRenderer:j0,PageSnapshot:k,FrameRenderer:J0,start:U1,registerAdapter:YJ,visit:KJ,connectStreamSource:B1,disconnectStreamSource:q1,renderStreamMessage:XJ,clearCache:WJ,setProgressBarDelay:UJ,setConfirmMethod:BJ,setFormMode:qJ,StreamActions:W1});class V1 extends Error{}class N1{constructor(J){this.fetchResponseLoaded=(j)=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.ignoredAttributes=new Set,this.action=null,this.visitCachedSnapshot=({element:j})=>{const Q=j.querySelector("#"+this.element.id);if(Q&&this.previousFrameElement)Q.replaceChildren(...this.previousFrameElement.children);delete this.previousFrameElement},this.element=J,this.view=new m0(this,this.element),this.appearanceObserver=new c0(this,this.element),this.formLinkClickObserver=new z0(this,this.element),this.linkInterceptor=new C0(this,this.element),this.restorationIdentifier=S(),this.formSubmitObserver=new K0(this,this.element)}connect(){if(!this.connected){if(this.connected=!0,this.loadingStyle==x.lazy)this.appearanceObserver.start();else this.loadSourceURL();this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start()}}disconnect(){if(this.connected)this.connected=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop()}disabledChanged(){if(this.loadingStyle==x.eager)this.loadSourceURL()}sourceURLChanged(){if(this.isIgnoringChangesTo("src"))return;if(this.element.isConnected)this.complete=!1;if(this.loadingStyle==x.eager||this.hasBeenLoaded)this.loadSourceURL()}sourceURLReloaded(){const{src:J}=this.element;return this.ignoringChangesToAttribute("complete",()=>{this.element.removeAttribute("complete")}),this.element.src=null,this.element.src=J,this.element.loaded}completeChanged(){if(this.isIgnoringChangesTo("complete"))return;this.loadSourceURL()}loadingStyleChanged(){if(this.loadingStyle==x.lazy)this.appearanceObserver.start();else this.appearanceObserver.stop(),this.loadSourceURL()}async loadSourceURL(){if(this.enabled&&this.isActive&&!this.complete&&this.sourceURL)this.element.loaded=this.visit(C(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0}async loadResponse(J){if(J.redirected||J.succeeded&&J.isHTML)this.sourceURL=J.response.url;try{const j=await J.responseHTML;if(j){const Q=g0(j);if(k.fromDocument(Q).isVisitable)await this.loadFrameResponse(J,Q);else await this.handleUnvisitableFrameResponse(J)}}finally{this.fetchResponseLoaded=()=>{}}}elementAppearedInViewport(J){this.proposeVisitIfNavigatedWithAction(J,J),this.loadSourceURL()}willSubmitFormLinkToLocation(J){return this.shouldInterceptNavigation(J)}submittedFormLinkToLocation(J,j,Q){const G=this.findFrameElement(J);if(G)Q.setAttribute("data-turbo-frame",G.id)}shouldInterceptLinkClick(J,j,Q){return this.shouldInterceptNavigation(J)}linkClickIntercepted(J,j){this.navigateFrame(J,j)}willSubmitForm(J,j){return J.closest("turbo-frame")==this.element&&this.shouldInterceptNavigation(J,j)}formSubmitted(J,j){if(this.formSubmission)this.formSubmission.stop();this.formSubmission=new u(this,J,j);const{fetchRequest:Q}=this.formSubmission;this.prepareRequest(Q),this.formSubmission.start()}prepareRequest(J){var j;if(J.headers["Turbo-Frame"]=this.id,(j=this.currentNavigationElement)===null||j===void 0?void 0:j.hasAttribute("data-turbo-stream"))J.acceptResponseType(E.contentType)}requestStarted(J){q0(this.element)}requestPreventedHandlingResponse(J,j){this.resolveVisitPromise()}async requestSucceededWithResponse(J,j){await this.loadResponse(j),this.resolveVisitPromise()}async requestFailedWithResponse(J,j){await this.loadResponse(j),this.resolveVisitPromise()}requestErrored(J,j){console.error(j),this.resolveVisitPromise()}requestFinished(J){V0(this.element)}formSubmissionStarted({formElement:J}){q0(J,this.findFrameElement(J))}formSubmissionSucceededWithResponse(J,j){const Q=this.findFrameElement(J.formElement,J.submitter);if(Q.delegate.proposeVisitIfNavigatedWithAction(Q,J.formElement,J.submitter),Q.delegate.loadResponse(j),!J.isSafe)N.clearCache()}formSubmissionFailedWithResponse(J,j){this.element.delegate.loadResponse(j),N.clearCache()}formSubmissionErrored(J,j){console.error(j)}formSubmissionFinished({formElement:J}){V0(J,this.findFrameElement(J))}allowsImmediateRender({element:J},j){const Q=O("turbo:before-frame-render",{target:this.element,detail:Object.assign({newFrame:J},j),cancelable:!0}),{defaultPrevented:G,detail:{render:Y}}=Q;if(this.view.renderer&&Y)this.view.renderer.renderElement=Y;return!G}viewRenderedSnapshot(J,j){}preloadOnLoadLinksForView(J){N.preloadOnLoadLinksForView(J)}viewInvalidated(){}willRenderFrame(J,j){this.previousFrameElement=J.cloneNode(!0)}async loadFrameResponse(J,j){const Q=await this.extractForeignFrameElement(j.body);if(Q){const G=new c(Q),Y=new J0(this,this.view.snapshot,G,J0.renderElement,!1,!1);if(this.view.renderPromise)await this.view.renderPromise;this.changeHistory(),await this.view.render(Y),this.complete=!0,N.frameRendered(J,this.element),N.frameLoaded(this.element),this.fetchResponseLoaded(J)}else if(this.willHandleFrameMissingFromResponse(J))this.handleFrameMissingFromResponse(J)}async visit(J){var j;const Q=new Y0(this,z.get,J,new URLSearchParams,this.element);return(j=this.currentFetchRequest)===null||j===void 0||j.cancel(),this.currentFetchRequest=Q,new Promise((G)=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,G()},Q.perform()})}navigateFrame(J,j,Q){const G=this.findFrameElement(J,Q);G.delegate.proposeVisitIfNavigatedWithAction(G,J,Q),this.withCurrentNavigationElement(J,()=>{G.src=j})}proposeVisitIfNavigatedWithAction(J,j,Q){if(this.action=G0(Q,j,J),this.action){const G=k.fromElement(J).clone(),{visitCachedSnapshot:Y}=J.delegate;J.delegate.fetchResponseLoaded=(K)=>{if(J.src){const{statusCode:X,redirected:W}=K,U=J.ownerDocument.documentElement.outerHTML,q={response:{statusCode:X,redirected:W,responseHTML:U},visitCachedSnapshot:Y,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:G};if(this.action)q.action=this.action;N.visit(J.src,q)}}}}changeHistory(){if(this.action){const J=h0(this.action);N.history.update(J,C(this.element.src||""),this.restorationIdentifier)}}async handleUnvisitableFrameResponse(J){console.warn(`The response (${J.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.visitResponse(J.response)}willHandleFrameMissingFromResponse(J){this.element.setAttribute("complete","");const j=J.response,Q=async(Y,K={})=>{if(Y instanceof Response)this.visitResponse(Y);else N.visit(Y,K)};return!O("turbo:frame-missing",{target:this.element,detail:{response:j,visit:Q},cancelable:!0}).defaultPrevented}handleFrameMissingFromResponse(J){this.view.missing(),this.throwFrameMissingError(J)}throwFrameMissingError(J){const j=`The response (${J.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new V1(j)}async visitResponse(J){const j=new Q0(J),Q=await j.responseHTML,{location:G,redirected:Y,statusCode:K}=j;return N.visit(G,{response:{redirected:Y,statusCode:K,responseHTML:Q}})}findFrameElement(J,j){var Q;const G=n("data-turbo-frame",j,J)||this.element.getAttribute("target");return(Q=f0(G))!==null&&Q!==void 0?Q:this.element}async extractForeignFrameElement(J){let j;const Q=CSS.escape(this.id);try{if(j=v0(J.querySelector(`turbo-frame#${Q}`),this.sourceURL),j)return j;if(j=v0(J.querySelector(`turbo-frame[src][recurse~=${Q}]`),this.sourceURL),j)return await j.loaded,await this.extractForeignFrameElement(j)}catch(G){return console.error(G),new T}return null}formActionIsVisitable(J,j){const Q=Z0(J,j);return g(C(Q),this.rootLocation)}shouldInterceptNavigation(J,j){const Q=n("data-turbo-frame",j,J)||this.element.getAttribute("target");if(J instanceof HTMLFormElement&&!this.formActionIsVisitable(J,j))return!1;if(!this.enabled||Q=="_top")return!1;if(Q){const G=f0(Q);if(G)return!G.disabled}if(!N.elementIsNavigatable(J))return!1;if(j&&!N.elementIsNavigatable(j))return!1;return!0}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(J){this.ignoringChangesToAttribute("src",()=>{this.element.src=J!==null&&J!==void 0?J:null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.resolveVisitPromise()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(J){this.ignoringChangesToAttribute("complete",()=>{if(J)this.element.setAttribute("complete","");else this.element.removeAttribute("complete")})}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var J;const j=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),Q=(J=j===null||j===void 0?void 0:j.content)!==null&&J!==void 0?J:"/";return C(Q)}isIgnoringChangesTo(J){return this.ignoredAttributes.has(J)}ignoringChangesToAttribute(J,j){this.ignoredAttributes.add(J),j(),this.ignoredAttributes.delete(J)}withCurrentNavigationElement(J,j){this.currentNavigationElement=J,j(),delete this.currentNavigationElement}}class F0 extends HTMLElement{static async renderElement(J){await J.performAction()}async connectedCallback(){try{await this.render()}catch(J){console.error(J)}finally{this.disconnect()}}async render(){var J;return(J=this.renderPromise)!==null&&J!==void 0?J:this.renderPromise=(async()=>{const j=this.beforeRenderEvent;if(this.dispatchEvent(j))await i(),await j.detail.render(this)})()}disconnect(){try{this.remove()}catch(J){}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach((J)=>J.remove())}get duplicateChildren(){var J;const j=this.targetElements.flatMap((G)=>[...G.children]).filter((G)=>!!G.id),Q=[...((J=this.templateContent)===null||J===void 0?void 0:J.children)||[]].filter((G)=>!!G.id).map((G)=>G.id);return j.filter((G)=>Q.includes(G.id))}get performAction(){if(this.action){const J=W1[this.action];if(J)return J;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;else if(this.targets)return this.targetElementsByQuery;else this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){const J=this.ownerDocument.createElement("template");return this.appendChild(J),J}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(J){throw new Error(`${this.description}: ${J}`)}get description(){var J,j;return(j=((J=this.outerHTML.match(/<[^>]+>/))!==null&&J!==void 0?J:[])[0])!==null&&j!==void 0?j:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:F0.renderElement}})}get targetElementsById(){var J;const j=(J=this.ownerDocument)===null||J===void 0?void 0:J.getElementById(this.target);if(j!==null)return[j];else return[]}get targetElementsByQuery(){var J;const j=(J=this.ownerDocument)===null||J===void 0?void 0:J.querySelectorAll(this.targets);if(j.length!==0)return Array.prototype.slice.call(j);else return[]}}class Z1 extends HTMLElement{constructor(){super(...arguments);this.streamSource=null}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),B1(this.streamSource)}disconnectedCallback(){if(this.streamSource)q1(this.streamSource)}get src(){return this.getAttribute("src")||""}}T.delegateConstructor=N1;if(customElements.get("turbo-frame")===void 0)customElements.define("turbo-frame",T);if(customElements.get("turbo-stream")===void 0)customElements.define("turbo-stream",F0);if(customElements.get("turbo-stream-source")===void 0)customElements.define("turbo-stream-source",Z1);(()=>{let J=document.currentScript;if(!J)return;if(J.hasAttribute("data-turbo-suppress-warning"))return;J=J.parentElement;while(J){if(J==document.body)return console.warn(S0`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ——
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,J.outerHTML);J=J.parentElement}})();window.Turbo=VJ;U1();var O1=(J,j)=>{J.classList.add(j),setTimeout(()=>J.classList.remove(j),2500)},NJ=(J,j)=>{J.addEventListener("click",()=>ZJ(J,j))},ZJ=async(J,j)=>{const Q=j.querySelector("table")?CJ(j):OJ(j);try{await navigator.clipboard.writeText(Q),O1(J,"checked")}catch(G){O1(J,"error")}},OJ=(J)=>{return[...J.querySelectorAll("code")].map((j)=>j.textContent).join("")},CJ=(J)=>{return[...J.querySelectorAll("tr")].map((j)=>{j.querySelector("td:last-child")?.innerText}).join("")};function M0(){document.querySelectorAll("pre").forEach((J)=>{const j=document.createElement("div");j.className="copy-code",J.prepend(j),NJ(j,J)})}var HJ=function(J){try{const Q=[...atob(J)].map((K)=>K.charCodeAt(0)),G=new Uint8Array(Q.length),Y=new TextDecoder("utf-8");return G.set(Q),Y.decode(G)}catch(j){return console.error("Failed to decode Base64 string: ",j),null}},zJ=function(J){const j=J.getAttribute("data-encoded-email"),Q=j&&HJ(j);if(Q)J.setAttribute("href",`mailto:${Q}`);else J.style.display="none"};function I0(){document.querySelectorAll("[data-encoded-email]").forEach(zJ)}var AJ=function(){const J=document.querySelectorAll(".footnote-reference");for(let j of J){const Q=j.children[0];if(Q instanceof HTMLAnchorElement)j.id=`ref:${Q.hash.substring(1)}`}},FJ=function(){const J=document.querySelectorAll(".footnote-definition");for(let j of J){const Q=`ref:${j.id}`;if(!document.getElementById(Q))continue;const G=document.createElement("a");G.href=`#${Q}`,G.className="footnote-backlink",G.textContent="\u21A9",j.lastElementChild?.appendChild(G)}};function k0(){AJ(),FJ()}var A=function(J,j,Q){const G=document.createElement(j);if(J)G.className=J;if(Q)Q.appendChild(G);return G},Z=function(J,j){if(J.x=j.x,J.y=j.y,j.id!==void 0)J.id=j.id;return J},k1=function(J){J.x=Math.round(J.x),J.y=Math.round(J.y)},y0=function(J,j){const Q=Math.abs(J.x-j.x),G=Math.abs(J.y-j.y);return Math.sqrt(Q*Q+G*G)},m=function(J,j){return J.x===j.x&&J.y===j.y},r=function(J,j,Q){return Math.min(Math.max(J,j),Q)},l=function(J,j,Q){let G=`translate3d(${J}px,${j||0}px,0)`;if(Q!==void 0)G+=` scale3d(${Q},${Q},1)`;return G},v=function(J,j,Q,G){J.style.transform=l(j,Q,G)},y1=function(J,j,Q,G){J.style.transition=j?`${j} ${Q}ms ${G||MJ}`:"none"},R0=function(J,j,Q){J.style.width=typeof j==="number"?`${j}px`:j,J.style.height=typeof Q==="number"?`${Q}px`:Q},IJ=function(J){y1(J)},kJ=function(J){if("decode"in J)return J.decode().catch(()=>{});if(J.complete)return Promise.resolve(J);return new Promise((j,Q)=>{J.onload=()=>j(J),J.onerror=Q})},yJ=function(J){return("button"in J)&&J.button===1||J.ctrlKey||J.metaKey||J.altKey||J.shiftKey},RJ=function(J,j,Q=document){let G=[];if(J instanceof Element)G=[J];else if(J instanceof NodeList||Array.isArray(J))G=Array.from(J);else{const Y=typeof J==="string"?J:j;if(Y)G=Array.from(Q.querySelectorAll(Y))}return G},C1=function(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))},T1=function(J,j){if(J.getViewportSizeFn){const Q=J.getViewportSizeFn(J,j);if(Q)return Q}return{x:document.documentElement.clientWidth,y:window.innerHeight}},p=function(J,j,Q,G,Y){let K=0;if(j.paddingFn)K=j.paddingFn(Q,G,Y)[J];else if(j.padding)K=j.padding[J];else{const X="padding"+J[0].toUpperCase()+J.slice(1);if(j[X])K=j[X]}return Number(K)||0},D1=function(J,j,Q,G){return{x:j.x-p("left",J,j,Q,G)-p("right",J,j,Q,G),y:j.y-p("top",J,j,Q,G)-p("bottom",J,j,Q,G)}},DJ=function(J,j){return J*j/(1-j)},F1=function(J,j,Q){return J.x=(j.x+Q.x)/2,J.y=(j.y+Q.y)/2,J},M1=function(J){return!!J.target.closest(".pswp__container")},SJ=function(J){if(typeof J==="string")return J;if(!J||!J.isCustomSVG)return"";const j=J;let Q='<svg aria-hidden="true" class="pswp__icn" viewBox="0 0 %d %d" width="%d" height="%d">';if(Q=Q.split("%d").join(j.size||32),j.outlineID)Q+='<use class="pswp__icn-shadow" xlink:href="#'+j.outlineID+'"/>';return Q+=j.inner,Q+="</svg>",Q},d1=function(J,j,Q){J.classList.add("pswp__button--arrow"),J.setAttribute("aria-controls","pswp__items"),j.on("change",()=>{if(!j.options.loop)if(Q)J.disabled=!(j.currIndex<j.getNumItems()-1);else J.disabled=!(j.currIndex>0)})},I1=function(J,j){J.classList.toggle("pswp--zoomed-in",j)},lJ=function(J){const j=J.getBoundingClientRect();return{x:j.left,y:j.top,w:j.width}},rJ=function(J,j,Q){const G=J.getBoundingClientRect(),Y=G.width/j,K=G.height/Q,X=Y>K?Y:K,W=(G.width-j*X)/2,U=(G.height-Q*X)/2,B={x:G.left+W,y:G.top+U,w:j*X};return B.innerRect={w:G.width,h:G.height,x:W,y:U},B},sJ=function(J,j,Q){const G=Q.dispatch("thumbBounds",{index:J,itemData:j,instance:Q});if(G.thumbBounds)return G.thumbBounds;const{element:Y}=j;let K,X;if(Y&&Q.options.thumbSelector!==!1){const W=Q.options.thumbSelector||"img";X=Y.matches(W)?Y:Y.querySelector(W)}if(X=Q.applyFilters("thumbEl",X,j,J),X)if(!j.thumbCropped)K=lJ(X);else K=rJ(X,j.width||j.w||0,j.height||j.h||0);return Q.applyFilters("thumbBounds",K,j,J)},o1=function(J,j,Q){const G=j.createContentFromData(J,Q);let Y;const{options:K}=j;if(K){Y=new P0(K,J,-1);let X;if(j.pswp)X=j.pswp.viewportSize;else X=T1(K,j);const W=D1(K,X,J,Q);Y.update(G.width,G.height,W)}if(G.lazyLoad(),Y)G.setDisplayedSize(Math.ceil(G.width*Y.initial),Math.ceil(G.height*Y.initial));return G},aJ=function(J,j){const Q=j.getItemData(J);if(j.dispatch("lazyLoadSlide",{index:J,itemData:Q}).defaultPrevented)return;return o1(Q,j,J)};/*!
  * PhotoSwipe 5.4.1 - https://photoswipe.com
  * (c) 2023 Dmytro Semenov
  */var MJ="cubic-bezier(.4,0,.22,1)",F={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"},R1=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>{R1=!0}}))}catch(J){}class P1{constructor(){this._pool=[]}add(J,j,Q,G){this._toggleListener(J,j,Q,G)}remove(J,j,Q,G){this._toggleListener(J,j,Q,G,!0)}removeAll(){this._pool.forEach((J)=>{this._toggleListener(J.target,J.type,J.listener,J.passive,!0,!0)}),this._pool=[]}_toggleListener(J,j,Q,G,Y,K){if(!J)return;const X=Y?"removeEventListener":"addEventListener";j.split(" ").forEach((U)=>{if(U){if(!K)if(Y)this._pool=this._pool.filter((q)=>{return q.type!==U||q.listener!==Q||q.target!==J});else this._pool.push({target:J,type:U,listener:Q,passive:G});const B=R1?{passive:G||!1}:!1;J[X](U,Q,B)}})}}class L1{constructor(J){this.slide=J,this.currZoomLevel=1,this.center={x:0,y:0},this.max={x:0,y:0},this.min={x:0,y:0}}update(J){if(this.currZoomLevel=J,!this.slide.width)this.reset();else this._updateAxis("x"),this._updateAxis("y"),this.slide.pswp.dispatch("calcBounds",{slide:this.slide})}_updateAxis(J){const{pswp:j}=this.slide,Q=this.slide[J==="x"?"width":"height"]*this.currZoomLevel,Y=p(J==="x"?"left":"top",j.options,j.viewportSize,this.slide.data,this.slide.index),K=this.slide.panAreaSize[J];this.center[J]=Math.round((K-Q)/2)+Y,this.max[J]=Q>K?Math.round(K-Q)+Y:this.center[J],this.min[J]=Q>K?Y:this.center[J]}reset(){this.center.x=0,this.center.y=0,this.max.x=0,this.max.y=0,this.min.x=0,this.min.y=0}correctPan(J,j){return r(j,this.max[J],this.min[J])}}var H1=4000;class P0{constructor(J,j,Q,G){this.pswp=G,this.options=J,this.itemData=j,this.index=Q,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(J,j,Q){const G={x:J,y:j};this.elementSize=G,this.panAreaSize=Q;const Y=Q.x/G.x,K=Q.y/G.y;if(this.fit=Math.min(1,Y<K?Y:K),this.fill=Math.min(1,Y>K?Y:K),this.vFill=Math.min(1,K),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp)this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(J){const j=J+"ZoomLevel",Q=this.options[j];if(!Q)return;if(typeof Q==="function")return Q(this);if(Q==="fill")return this.fill;if(Q==="fit")return this.fit;return Number(Q)}_getSecondary(){let J=this._parseZoomLevelOption("secondary");if(J)return J;if(J=Math.min(1,this.fit*3),this.elementSize&&J*this.elementSize.x>H1)J=H1/this.elementSize.x;return J}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}class $1{constructor(J,j,Q){this.data=J,this.index=j,this.pswp=Q,this.isActive=j===Q.currIndex,this.currentResolution=0,this.panAreaSize={x:0,y:0},this.pan={x:0,y:0},this.isFirstSlide=this.isActive&&!Q.opener.isOpen,this.zoomLevels=new P0(Q.options,J,j,Q),this.pswp.dispatch("gettingData",{slide:this,data:this.data,index:j}),this.content=this.pswp.contentLoader.getContentBySlide(this),this.container=A("pswp__zoom-wrap","div"),this.holderElement=null,this.currZoomLevel=1,this.width=this.content.width,this.height=this.content.height,this.heavyAppended=!1,this.bounds=new L1(this),this.prevDisplayedWidth=-1,this.prevDisplayedHeight=-1,this.pswp.dispatch("slideInit",{slide:this})}setIsActive(J){if(J&&!this.isActive)this.activate();else if(!J&&this.isActive)this.deactivate()}append(J){if(this.holderElement=J,this.container.style.transformOrigin="0 0",!this.data)return;if(this.calculateSize(),this.load(),this.updateContentSize(),this.appendHeavy(),this.holderElement.appendChild(this.container),this.zoomAndPanToInitial(),this.pswp.dispatch("firstZoomPan",{slide:this}),this.applyCurrentZoomPan(),this.pswp.dispatch("afterSetContent",{slide:this}),this.isActive)this.activate()}load(){this.content.load(!1),this.pswp.dispatch("slideLoad",{slide:this})}appendHeavy(){const{pswp:J}=this;if(this.heavyAppended||!J.opener.isOpen||J.mainScroll.isShifted()||!this.isActive&&!1)return;if(this.pswp.dispatch("appendHeavy",{slide:this}).defaultPrevented)return;this.heavyAppended=!0,this.content.append(),this.pswp.dispatch("appendHeavyContent",{slide:this})}activate(){this.isActive=!0,this.appendHeavy(),this.content.activate(),this.pswp.dispatch("slideActivate",{slide:this})}deactivate(){if(this.isActive=!1,this.content.deactivate(),this.currZoomLevel!==this.zoomLevels.initial)this.calculateSize();this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize(),this.pswp.dispatch("slideDeactivate",{slide:this})}destroy(){this.content.hasSlide=!1,this.content.remove(),this.container.remove(),this.pswp.dispatch("slideDestroy",{slide:this})}resize(){if(this.currZoomLevel===this.zoomLevels.initial||!this.isActive)this.calculateSize(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize();else this.calculateSize(),this.bounds.update(this.currZoomLevel),this.panTo(this.pan.x,this.pan.y)}updateContentSize(J){const j=this.currentResolution||this.zoomLevels.initial;if(!j)return;const Q=Math.round(this.width*j)||this.pswp.viewportSize.x,G=Math.round(this.height*j)||this.pswp.viewportSize.y;if(!this.sizeChanged(Q,G)&&!J)return;this.content.setDisplayedSize(Q,G)}sizeChanged(J,j){if(J!==this.prevDisplayedWidth||j!==this.prevDisplayedHeight)return this.prevDisplayedWidth=J,this.prevDisplayedHeight=j,!0;return!1}getPlaceholderElement(){var J;return(J=this.content.placeholder)===null||J===void 0?void 0:J.element}zoomTo(J,j,Q,G){const{pswp:Y}=this;if(!this.isZoomable()||Y.mainScroll.isShifted())return;Y.dispatch("beforeZoomTo",{destZoomLevel:J,centerPoint:j,transitionDuration:Q}),Y.animations.stopAllPan();const K=this.currZoomLevel;if(!G)J=r(J,this.zoomLevels.min,this.zoomLevels.max);this.setZoomLevel(J),this.pan.x=this.calculateZoomToPanOffset("x",j,K),this.pan.y=this.calculateZoomToPanOffset("y",j,K),k1(this.pan);const X=()=>{this._setResolution(J),this.applyCurrentZoomPan()};if(!Q)X();else Y.animations.startTransition({isPan:!0,name:"zoomTo",target:this.container,transform:this.getCurrentTransform(),onComplete:X,duration:Q,easing:Y.options.easing})}toggleZoom(J){this.zoomTo(this.currZoomLevel===this.zoomLevels.initial?this.zoomLevels.secondary:this.zoomLevels.initial,J,this.pswp.options.zoomAnimationDuration)}setZoomLevel(J){this.currZoomLevel=J,this.bounds.update(this.currZoomLevel)}calculateZoomToPanOffset(J,j,Q){if(this.bounds.max[J]-this.bounds.min[J]===0)return this.bounds.center[J];if(!j)j=this.pswp.getViewportCenterPoint();if(!Q)Q=this.zoomLevels.initial;const Y=this.currZoomLevel/Q;return this.bounds.correctPan(J,(this.pan[J]-j[J])*Y+j[J])}panTo(J,j){this.pan.x=this.bounds.correctPan("x",J),this.pan.y=this.bounds.correctPan("y",j),this.applyCurrentZoomPan()}isPannable(){return Boolean(this.width)&&this.currZoomLevel>this.zoomLevels.fit}isZoomable(){return Boolean(this.width)&&this.content.isZoomable()}applyCurrentZoomPan(){if(this._applyZoomTransform(this.pan.x,this.pan.y,this.currZoomLevel),this===this.pswp.currSlide)this.pswp.dispatch("zoomPanUpdate",{slide:this})}zoomAndPanToInitial(){this.currZoomLevel=this.zoomLevels.initial,this.bounds.update(this.currZoomLevel),Z(this.pan,this.bounds.center),this.pswp.dispatch("initialZoomPan",{slide:this})}_applyZoomTransform(J,j,Q){Q/=this.currentResolution||this.zoomLevels.initial,v(this.container,J,j,Q)}calculateSize(){const{pswp:J}=this;Z(this.panAreaSize,D1(J.options,J.viewportSize,this.data,this.index)),this.zoomLevels.update(this.width,this.height,this.panAreaSize),J.dispatch("calcSlideSize",{slide:this})}getCurrentTransform(){const J=this.currZoomLevel/(this.currentResolution||this.zoomLevels.initial);return l(this.pan.x,this.pan.y,J)}_setResolution(J){if(J===this.currentResolution)return;this.currentResolution=J,this.updateContentSize(),this.pswp.dispatch("resolutionChanged")}}var PJ=0.35,TJ=0.6,z1=0.4,A1=0.5;class x1{constructor(J){this.gestures=J,this.pswp=J.pswp,this.startPan={x:0,y:0}}start(){if(this.pswp.currSlide)Z(this.startPan,this.pswp.currSlide.pan);this.pswp.animations.stopAll()}change(){const{p1:J,prevP1:j,dragAxis:Q}=this.gestures,{currSlide:G}=this.pswp;if(Q==="y"&&this.pswp.options.closeOnVerticalDrag&&G&&G.currZoomLevel<=G.zoomLevels.fit&&!this.gestures.isMultitouch){const Y=G.pan.y+(J.y-j.y);if(!this.pswp.dispatch("verticalDrag",{panY:Y}).defaultPrevented){this._setPanWithFriction("y",Y,TJ);const K=1-Math.abs(this._getVerticalDragRatio(G.pan.y));this.pswp.applyBgOpacity(K),G.applyCurrentZoomPan()}}else if(!this._panOrMoveMainScroll("x")){if(this._panOrMoveMainScroll("y"),G)k1(G.pan),G.applyCurrentZoomPan()}}end(){const{velocity:J}=this.gestures,{mainScroll:j,currSlide:Q}=this.pswp;let G=0;if(this.pswp.animations.stopAll(),j.isShifted()){const K=(j.x-j.getCurrSlideX())/this.pswp.viewportSize.x;if(J.x<-A1&&K<0||J.x<0.1&&K<-0.5)G=1,J.x=Math.min(J.x,0);else if(J.x>A1&&K>0||J.x>-0.1&&K>0.5)G=-1,J.x=Math.max(J.x,0);j.moveIndexBy(G,!0,J.x)}if(Q&&Q.currZoomLevel>Q.zoomLevels.max||this.gestures.isMultitouch)this.gestures.zoomLevels.correctZoomPan(!0);else this._finishPanGestureForAxis("x"),this._finishPanGestureForAxis("y")}_finishPanGestureForAxis(J){const{velocity:j}=this.gestures,{currSlide:Q}=this.pswp;if(!Q)return;const{pan:G,bounds:Y}=Q,K=G[J],X=this.pswp.bgOpacity<1&&J==="y",W=0.995,U=K+DJ(j[J],W);if(X){const y=this._getVerticalDragRatio(K),D=this._getVerticalDragRatio(U);if(y<0&&D<-z1||y>0&&D>z1){this.pswp.close();return}}const B=Y.correctPan(J,U);if(K===B)return;const q=B===U?1:0.82,V=this.pswp.bgOpacity,H=B-K;this.pswp.animations.startSpring({name:"panGesture"+J,isPan:!0,start:K,end:B,velocity:j[J],dampingRatio:q,onUpdate:(y)=>{if(X&&this.pswp.bgOpacity<1){const D=1-(B-y)/H;this.pswp.applyBgOpacity(r(V+(1-V)*D,0,1))}G[J]=Math.floor(y),Q.applyCurrentZoomPan()}})}_panOrMoveMainScroll(J){const{p1:j,dragAxis:Q,prevP1:G,isMultitouch:Y}=this.gestures,{currSlide:K,mainScroll:X}=this.pswp,W=j[J]-G[J],U=X.x+W;if(!W||!K)return!1;if(J==="x"&&!K.isPannable()&&!Y)return X.moveTo(U,!0),!0;const{bounds:B}=K,q=K.pan[J]+W;if(this.pswp.options.allowPanToNext&&Q==="x"&&J==="x"&&!Y){const V=X.getCurrSlideX(),H=X.x-V,y=W>0,D=!y;if(q>B.min[J]&&y)if(B.min[J]<=this.startPan[J])return X.moveTo(U,!0),!0;else this._setPanWithFriction(J,q);else if(q<B.max[J]&&D)if(this.startPan[J]<=B.max[J])return X.moveTo(U,!0),!0;else this._setPanWithFriction(J,q);else if(H!==0){if(H>0)return X.moveTo(Math.max(U,V),!0),!0;else if(H<0)return X.moveTo(Math.min(U,V),!0),!0}else this._setPanWithFriction(J,q)}else if(J==="y"){if(!X.isShifted()&&B.min.y!==B.max.y)this._setPanWithFriction(J,q)}else this._setPanWithFriction(J,q);return!1}_getVerticalDragRatio(J){var j,Q;return(J-((j=(Q=this.pswp.currSlide)===null||Q===void 0?void 0:Q.bounds.center.y)!==null&&j!==void 0?j:0))/(this.pswp.viewportSize.y/3)}_setPanWithFriction(J,j,Q){const{currSlide:G}=this.pswp;if(!G)return;const{pan:Y,bounds:K}=G;if(K.correctPan(J,j)!==j||Q){const W=Math.round(j-Y[J]);Y[J]+=W*(Q||PJ)}else Y[J]=j}}var LJ=0.05,$J=0.15;class b1{constructor(J){this.gestures=J,this._startPan={x:0,y:0},this._startZoomPoint={x:0,y:0},this._zoomPoint={x:0,y:0},this._wasOverFitZoomLevel=!1,this._startZoomLevel=1}start(){const{currSlide:J}=this.gestures.pswp;if(J)this._startZoomLevel=J.currZoomLevel,Z(this._startPan,J.pan);this.gestures.pswp.animations.stopAllPan(),this._wasOverFitZoomLevel=!1}change(){const{p1:J,startP1:j,p2:Q,startP2:G,pswp:Y}=this.gestures,{currSlide:K}=Y;if(!K)return;const X=K.zoomLevels.min,W=K.zoomLevels.max;if(!K.isZoomable()||Y.mainScroll.isShifted())return;F1(this._startZoomPoint,j,G),F1(this._zoomPoint,J,Q);let U=1/y0(j,G)*y0(J,Q)*this._startZoomLevel;if(U>K.zoomLevels.initial+K.zoomLevels.initial/15)this._wasOverFitZoomLevel=!0;if(U<X)if(Y.options.pinchToClose&&!this._wasOverFitZoomLevel&&this._startZoomLevel<=K.zoomLevels.initial){const B=1-(X-U)/(X/1.2);if(!Y.dispatch("pinchClose",{bgOpacity:B}).defaultPrevented)Y.applyBgOpacity(B)}else U=X-(X-U)*$J;else if(U>W)U=W+(U-W)*LJ;K.pan.x=this._calculatePanForZoomLevel("x",U),K.pan.y=this._calculatePanForZoomLevel("y",U),K.setZoomLevel(U),K.applyCurrentZoomPan()}end(){const{pswp:J}=this.gestures,{currSlide:j}=J;if((!j||j.currZoomLevel<j.zoomLevels.initial)&&!this._wasOverFitZoomLevel&&J.options.pinchToClose)J.close();else this.correctZoomPan()}_calculatePanForZoomLevel(J,j){const Q=j/this._startZoomLevel;return this._zoomPoint[J]-(this._startZoomPoint[J]-this._startPan[J])*Q}correctZoomPan(J){const{pswp:j}=this.gestures,{currSlide:Q}=j;if(!(Q!==null&&Q!==void 0&&Q.isZoomable()))return;if(this._zoomPoint.x===0)J=!0;const G=Q.currZoomLevel;let Y,K=!0;if(G<Q.zoomLevels.initial)Y=Q.zoomLevels.initial;else if(G>Q.zoomLevels.max)Y=Q.zoomLevels.max;else K=!1,Y=G;const X=j.bgOpacity,W=j.bgOpacity<1,U=Z({x:0,y:0},Q.pan);let B=Z({x:0,y:0},U);if(J)this._zoomPoint.x=0,this._zoomPoint.y=0,this._startZoomPoint.x=0,this._startZoomPoint.y=0,this._startZoomLevel=G,Z(this._startPan,U);if(K)B={x:this._calculatePanForZoomLevel("x",Y),y:this._calculatePanForZoomLevel("y",Y)};Q.setZoomLevel(Y),B={x:Q.bounds.correctPan("x",B.x),y:Q.bounds.correctPan("y",B.y)},Q.setZoomLevel(G);const q=!m(B,U);if(!q&&!K&&!W){Q._setResolution(Y),Q.applyCurrentZoomPan();return}j.animations.stopAllPan(),j.animations.startSpring({isPan:!0,start:0,end:1000,velocity:0,dampingRatio:1,naturalFrequency:40,onUpdate:(V)=>{if(V/=1000,q||K){if(q)Q.pan.x=U.x+(B.x-U.x)*V,Q.pan.y=U.y+(B.y-U.y)*V;if(K){const H=G+(Y-G)*V;Q.setZoomLevel(H)}Q.applyCurrentZoomPan()}if(W&&j.bgOpacity<1)j.applyBgOpacity(r(X+(1-X)*V,0,1))},onComplete:()=>{Q._setResolution(Y),Q.applyCurrentZoomPan()}})}}class E1{constructor(J){this.gestures=J}click(J,j){const Q=j.target.classList,G=Q.contains("pswp__img"),Y=Q.contains("pswp__item")||Q.contains("pswp__zoom-wrap");if(G)this._doClickOrTapAction("imageClick",J,j);else if(Y)this._doClickOrTapAction("bgClick",J,j)}tap(J,j){if(M1(j))this._doClickOrTapAction("tap",J,j)}doubleTap(J,j){if(M1(j))this._doClickOrTapAction("doubleTap",J,j)}_doClickOrTapAction(J,j,Q){var G;const{pswp:Y}=this.gestures,{currSlide:K}=Y,X=J+"Action",W=Y.options[X];if(Y.dispatch(X,{point:j,originalEvent:Q}).defaultPrevented)return;if(typeof W==="function"){W.call(Y,j,Q);return}switch(W){case"close":case"next":Y[W]();break;case"zoom":K===null||K===void 0||K.toggleZoom(j);break;case"zoom-or-close":if(K!==null&&K!==void 0&&K.isZoomable()&&K.zoomLevels.secondary!==K.zoomLevels.initial)K.toggleZoom(j);else if(Y.options.clickToCloseNonZoomable)Y.close();break;case"toggle-controls":(G=this.gestures.pswp.element)===null||G===void 0||G.classList.toggle("pswp--ui-visible");break}}}var xJ=10,bJ=300,EJ=25;class _1{constructor(J){if(this.pswp=J,this.dragAxis=null,this.p1={x:0,y:0},this.p2={x:0,y:0},this.prevP1={x:0,y:0},this.prevP2={x:0,y:0},this.startP1={x:0,y:0},this.startP2={x:0,y:0},this.velocity={x:0,y:0},this._lastStartP1={x:0,y:0},this._intervalP1={x:0,y:0},this._numActivePoints=0,this._ongoingPointers=[],this._touchEventEnabled=("ontouchstart"in window),this._pointerEventEnabled=!!window.PointerEvent,this.supportsTouch=this._touchEventEnabled||this._pointerEventEnabled&&navigator.maxTouchPoints>1,this._numActivePoints=0,this._intervalTime=0,this._velocityCalculated=!1,this.isMultitouch=!1,this.isDragging=!1,this.isZooming=!1,this.raf=null,this._tapTimer=null,!this.supportsTouch)J.options.allowPanToNext=!1;this.drag=new x1(this),this.zoomLevels=new b1(this),this.tapHandler=new E1(this),J.on("bindEvents",()=>{if(J.events.add(J.scrollWrap,"click",this._onClick.bind(this)),this._pointerEventEnabled)this._bindEvents("pointer","down","up","cancel");else if(this._touchEventEnabled){if(this._bindEvents("touch","start","end","cancel"),J.scrollWrap)J.scrollWrap.ontouchmove=()=>{},J.scrollWrap.ontouchend=()=>{}}else this._bindEvents("mouse","down","up")})}_bindEvents(J,j,Q,G){const{pswp:Y}=this,{events:K}=Y,X=G?J+G:"";if(K.add(Y.scrollWrap,J+j,this.onPointerDown.bind(this)),K.add(window,J+"move",this.onPointerMove.bind(this)),K.add(window,J+Q,this.onPointerUp.bind(this)),X)K.add(Y.scrollWrap,X,this.onPointerUp.bind(this))}onPointerDown(J){const j=J.type==="mousedown"||J.pointerType==="mouse";if(j&&J.button>0)return;const{pswp:Q}=this;if(!Q.opener.isOpen){J.preventDefault();return}if(Q.dispatch("pointerDown",{originalEvent:J}).defaultPrevented)return;if(j)Q.mouseDetected(),this._preventPointerEventBehaviour(J,"down");if(Q.animations.stopAll(),this._updatePoints(J,"down"),this._numActivePoints===1)this.dragAxis=null,Z(this.startP1,this.p1);if(this._numActivePoints>1)this._clearTapTimer(),this.isMultitouch=!0;else this.isMultitouch=!1}onPointerMove(J){if(this._preventPointerEventBehaviour(J,"move"),!this._numActivePoints)return;if(this._updatePoints(J,"move"),this.pswp.dispatch("pointerMove",{originalEvent:J}).defaultPrevented)return;if(this._numActivePoints===1&&!this.isDragging){if(!this.dragAxis)this._calculateDragDirection();if(this.dragAxis&&!this.isDragging){if(this.isZooming)this.isZooming=!1,this.zoomLevels.end();this.isDragging=!0,this._clearTapTimer(),this._updateStartPoints(),this._intervalTime=Date.now(),this._velocityCalculated=!1,Z(this._intervalP1,this.p1),this.velocity.x=0,this.velocity.y=0,this.drag.start(),this._rafStopLoop(),this._rafRenderLoop()}}else if(this._numActivePoints>1&&!this.isZooming)this._finishDrag(),this.isZooming=!0,this._updateStartPoints(),this.zoomLevels.start(),this._rafStopLoop(),this._rafRenderLoop()}_finishDrag(){if(this.isDragging){if(this.isDragging=!1,!this._velocityCalculated)this._updateVelocity(!0);this.drag.end(),this.dragAxis=null}}onPointerUp(J){if(!this._numActivePoints)return;if(this._updatePoints(J,"up"),this.pswp.dispatch("pointerUp",{originalEvent:J}).defaultPrevented)return;if(this._numActivePoints===0){if(this._rafStopLoop(),this.isDragging)this._finishDrag();else if(!this.isZooming&&!this.isMultitouch)this._finishTap(J)}if(this._numActivePoints<2&&this.isZooming){if(this.isZooming=!1,this.zoomLevels.end(),this._numActivePoints===1)this.dragAxis=null,this._updateStartPoints()}}_rafRenderLoop(){if(this.isDragging||this.isZooming){if(this._updateVelocity(),this.isDragging){if(!m(this.p1,this.prevP1))this.drag.change()}else if(!m(this.p1,this.prevP1)||!m(this.p2,this.prevP2))this.zoomLevels.change();this._updatePrevPoints(),this.raf=requestAnimationFrame(this._rafRenderLoop.bind(this))}}_updateVelocity(J){const j=Date.now(),Q=j-this._intervalTime;if(Q<50&&!J)return;this.velocity.x=this._getVelocity("x",Q),this.velocity.y=this._getVelocity("y",Q),this._intervalTime=j,Z(this._intervalP1,this.p1),this._velocityCalculated=!0}_finishTap(J){const{mainScroll:j}=this.pswp;if(j.isShifted()){j.moveIndexBy(0,!0);return}if(J.type.indexOf("cancel")>0)return;if(J.type==="mouseup"||J.pointerType==="mouse"){this.tapHandler.click(this.startP1,J);return}const Q=this.pswp.options.doubleTapAction?bJ:0;if(this._tapTimer){if(this._clearTapTimer(),y0(this._lastStartP1,this.startP1)<EJ)this.tapHandler.doubleTap(this.startP1,J)}else Z(this._lastStartP1,this.startP1),this._tapTimer=setTimeout(()=>{this.tapHandler.tap(this.startP1,J),this._clearTapTimer()},Q)}_clearTapTimer(){if(this._tapTimer)clearTimeout(this._tapTimer),this._tapTimer=null}_getVelocity(J,j){const Q=this.p1[J]-this._intervalP1[J];if(Math.abs(Q)>1&&j>5)return Q/j;return 0}_rafStopLoop(){if(this.raf)cancelAnimationFrame(this.raf),this.raf=null}_preventPointerEventBehaviour(J,j){if(this.pswp.applyFilters("preventPointerEvent",!0,J,j))J.preventDefault()}_updatePoints(J,j){if(this._pointerEventEnabled){const Q=J,G=this._ongoingPointers.findIndex((Y)=>{return Y.id===Q.pointerId});if(j==="up"&&G>-1)this._ongoingPointers.splice(G,1);else if(j==="down"&&G===-1)this._ongoingPointers.push(this._convertEventPosToPoint(Q,{x:0,y:0}));else if(G>-1)this._convertEventPosToPoint(Q,this._ongoingPointers[G]);if(this._numActivePoints=this._ongoingPointers.length,this._numActivePoints>0)Z(this.p1,this._ongoingPointers[0]);if(this._numActivePoints>1)Z(this.p2,this._ongoingPointers[1])}else{const Q=J;if(this._numActivePoints=0,Q.type.indexOf("touch")>-1){if(Q.touches&&Q.touches.length>0){if(this._convertEventPosToPoint(Q.touches[0],this.p1),this._numActivePoints++,Q.touches.length>1)this._convertEventPosToPoint(Q.touches[1],this.p2),this._numActivePoints++}}else if(this._convertEventPosToPoint(J,this.p1),j==="up")this._numActivePoints=0;else this._numActivePoints++}}_updatePrevPoints(){Z(this.prevP1,this.p1),Z(this.prevP2,this.p2)}_updateStartPoints(){Z(this.startP1,this.p1),Z(this.startP2,this.p2),this._updatePrevPoints()}_calculateDragDirection(){if(this.pswp.mainScroll.isShifted())this.dragAxis="x";else{const J=Math.abs(this.p1.x-this.startP1.x)-Math.abs(this.p1.y-this.startP1.y);if(J!==0){const j=J>0?"x":"y";if(Math.abs(this.p1[j]-this.startP1[j])>=xJ)this.dragAxis=j}}}_convertEventPosToPoint(J,j){if(j.x=J.pageX-this.pswp.offset.x,j.y=J.pageY-this.pswp.offset.y,("pointerId"in J))j.id=J.pointerId;else if(J.identifier!==void 0)j.id=J.identifier;return j}_onClick(J){if(this.pswp.mainScroll.isShifted())J.preventDefault(),J.stopPropagation()}}var _J=0.35;class f1{constructor(J){this.pswp=J,this.x=0,this.slideWidth=0,this._currPositionIndex=0,this._prevPositionIndex=0,this._containerShiftIndex=-1,this.itemHolders=[]}resize(J){const{pswp:j}=this,Q=Math.round(j.viewportSize.x+j.viewportSize.x*j.options.spacing),G=Q!==this.slideWidth;if(G)this.slideWidth=Q,this.moveTo(this.getCurrSlideX());this.itemHolders.forEach((Y,K)=>{if(G)v(Y.el,(K+this._containerShiftIndex)*this.slideWidth);if(J&&Y.slide)Y.slide.resize()})}resetPosition(){this._currPositionIndex=0,this._prevPositionIndex=0,this.slideWidth=0,this._containerShiftIndex=-1}appendHolders(){this.itemHolders=[];for(let J=0;J<3;J++){const j=A("pswp__item","div",this.pswp.container);j.setAttribute("role","group"),j.setAttribute("aria-roledescription","slide"),j.setAttribute("aria-hidden","true"),j.style.display=J===1?"block":"none",this.itemHolders.push({el:j})}}canBeSwiped(){return this.pswp.getNumItems()>1}moveIndexBy(J,j,Q){const{pswp:G}=this;let Y=G.potentialIndex+J;const K=G.getNumItems();if(G.canLoop()){Y=G.getLoopedIndex(Y);const W=(J+K)%K;if(W<=K/2)J=W;else J=W-K}else{if(Y<0)Y=0;else if(Y>=K)Y=K-1;J=Y-G.potentialIndex}G.potentialIndex=Y,this._currPositionIndex-=J,G.animations.stopMainScroll();const X=this.getCurrSlideX();if(!j)this.moveTo(X),this.updateCurrItem();else{G.animations.startSpring({isMainScroll:!0,start:this.x,end:X,velocity:Q||0,naturalFrequency:30,dampingRatio:1,onUpdate:(U)=>{this.moveTo(U)},onComplete:()=>{this.updateCurrItem(),G.appendHeavy()}});let W=G.potentialIndex-G.currIndex;if(G.canLoop()){const U=(W+K)%K;if(U<=K/2)W=U;else W=U-K}if(Math.abs(W)>1)this.updateCurrItem()}return Boolean(J)}getCurrSlideX(){return this.slideWidth*this._currPositionIndex}isShifted(){return this.x!==this.getCurrSlideX()}updateCurrItem(){var J;const{pswp:j}=this,Q=this._prevPositionIndex-this._currPositionIndex;if(!Q)return;this._prevPositionIndex=this._currPositionIndex,j.currIndex=j.potentialIndex;let G=Math.abs(Q),Y;if(G>=3)this._containerShiftIndex+=Q+(Q>0?-3:3),G=3;for(let K=0;K<G;K++)if(Q>0){if(Y=this.itemHolders.shift(),Y)this.itemHolders[2]=Y,this._containerShiftIndex++,v(Y.el,(this._containerShiftIndex+2)*this.slideWidth),j.setContent(Y,j.currIndex-G+K+2)}else if(Y=this.itemHolders.pop(),Y)this.itemHolders.unshift(Y),this._containerShiftIndex--,v(Y.el,this._containerShiftIndex*this.slideWidth),j.setContent(Y,j.currIndex+G-K-2);if(Math.abs(this._containerShiftIndex)>50&&!this.isShifted())this.resetPosition(),this.resize();if(j.animations.stopAllPan(),this.itemHolders.forEach((K,X)=>{if(K.slide)K.slide.setIsActive(X===1)}),j.currSlide=(J=this.itemHolders[1])===null||J===void 0?void 0:J.slide,j.contentLoader.updateLazy(Q),j.currSlide)j.currSlide.applyCurrentZoomPan();j.dispatch("change")}moveTo(J,j){if(!this.pswp.canLoop()&&j){let Q=(this.slideWidth*this._currPositionIndex-J)/this.slideWidth;Q+=this.pswp.currIndex;const G=Math.round(J-this.x);if(Q<0&&G>0||Q>=this.pswp.getNumItems()-1&&G<0)J=this.x+G*_J}if(this.x=J,this.pswp.container)v(this.pswp.container,J);this.pswp.dispatch("moveMainScroll",{x:J,dragging:j!==null&&j!==void 0?j:!1})}}var fJ={Escape:27,z:90,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Tab:9},f=(J,j)=>{return j?J:fJ[J]};class v1{constructor(J){this.pswp=J,this._wasFocused=!1,J.on("bindEvents",()=>{if(J.options.trapFocus){if(!J.options.initialPointerPos)this._focusRoot();J.events.add(document,"focusin",this._onFocusIn.bind(this))}J.events.add(document,"keydown",this._onKeyDown.bind(this))});const j=document.activeElement;J.on("destroy",()=>{if(J.options.returnFocus&&j&&this._wasFocused)j.focus()})}_focusRoot(){if(!this._wasFocused&&this.pswp.element)this.pswp.element.focus(),this._wasFocused=!0}_onKeyDown(J){const{pswp:j}=this;if(j.dispatch("keydown",{originalEvent:J}).defaultPrevented)return;if(yJ(J))return;let Q,G,Y=!1;const K="key"in J;switch(K?J.key:J.keyCode){case f("Escape",K):if(j.options.escKey)Q="close";break;case f("z",K):Q="toggleZoom";break;case f("ArrowLeft",K):G="x";break;case f("ArrowUp",K):G="y";break;case f("ArrowRight",K):G="x",Y=!0;break;case f("ArrowDown",K):Y=!0,G="y";break;case f("Tab",K):this._focusRoot();break}if(G){J.preventDefault();const{currSlide:X}=j;if(j.options.arrowKeys&&G==="x"&&j.getNumItems()>1)Q=Y?"next":"prev";else if(X&&X.currZoomLevel>X.zoomLevels.fit)X.pan[G]+=Y?-80:80,X.panTo(X.pan.x,X.pan.y)}if(Q)J.preventDefault(),j[Q]()}_onFocusIn(J){const{template:j}=this.pswp;if(j&&document!==J.target&&j!==J.target&&!j.contains(J.target))j.focus()}}var vJ="cubic-bezier(.4,0,.22,1)";class w1{constructor(J){var j;this.props=J;const{target:Q,onComplete:G,transform:Y,onFinish:K=()=>{},duration:X=333,easing:W=vJ}=J;this.onFinish=K;const U=Y?"transform":"opacity",B=(j=J[U])!==null&&j!==void 0?j:"";this._target=Q,this._onComplete=G,this._finished=!1,this._onTransitionEnd=this._onTransitionEnd.bind(this),this._helperTimeout=setTimeout(()=>{y1(Q,U,X,W),this._helperTimeout=setTimeout(()=>{Q.addEventListener("transitionend",this._onTransitionEnd,!1),Q.addEventListener("transitioncancel",this._onTransitionEnd,!1),this._helperTimeout=setTimeout(()=>{this._finalizeAnimation()},X+500),Q.style[U]=B},30)},0)}_onTransitionEnd(J){if(J.target===this._target)this._finalizeAnimation()}_finalizeAnimation(){if(!this._finished){if(this._finished=!0,this.onFinish(),this._onComplete)this._onComplete()}}destroy(){if(this._helperTimeout)clearTimeout(this._helperTimeout);if(IJ(this._target),this._target.removeEventListener("transitionend",this._onTransitionEnd,!1),this._target.removeEventListener("transitioncancel",this._onTransitionEnd,!1),!this._finished)this._finalizeAnimation()}}var wJ=12,gJ=0.75;class g1{constructor(J,j,Q){if(this.velocity=J*1000,this._dampingRatio=j||gJ,this._naturalFrequency=Q||wJ,this._dampedFrequency=this._naturalFrequency,this._dampingRatio<1)this._dampedFrequency*=Math.sqrt(1-this._dampingRatio*this._dampingRatio)}easeFrame(J,j){let Q=0,G;j/=1000;const Y=Math.E**(-this._dampingRatio*this._naturalFrequency*j);if(this._dampingRatio===1)G=this.velocity+this._naturalFrequency*J,Q=(J+G*j)*Y,this.velocity=Q*-this._naturalFrequency+G*Y;else if(this._dampingRatio<1){G=1/this._dampedFrequency*(this._dampingRatio*this._naturalFrequency*J+this.velocity);const K=Math.cos(this._dampedFrequency*j),X=Math.sin(this._dampedFrequency*j);Q=Y*(J*K+G*X),this.velocity=Q*-this._naturalFrequency*this._dampingRatio+Y*(-this._dampedFrequency*J*X+this._dampedFrequency*G*K)}return Q}}class S1{constructor(J){this.props=J,this._raf=0;const{start:j,end:Q,velocity:G,onUpdate:Y,onComplete:K,onFinish:X=()=>{},dampingRatio:W,naturalFrequency:U}=J;this.onFinish=X;const B=new g1(G,W,U);let q=Date.now(),V=j-Q;const H=()=>{if(this._raf)if(V=B.easeFrame(V,Date.now()-q),Math.abs(V)<1&&Math.abs(B.velocity)<50){if(Y(Q),K)K();this.onFinish()}else q=Date.now(),Y(V+Q),this._raf=requestAnimationFrame(H)};this._raf=requestAnimationFrame(H)}destroy(){if(this._raf>=0)cancelAnimationFrame(this._raf);this._raf=0}}class h1{constructor(){this.activeAnimations=[]}startSpring(J){this._start(J,!0)}startTransition(J){this._start(J)}_start(J,j){const Q=j?new S1(J):new w1(J);return this.activeAnimations.push(Q),Q.onFinish=()=>this.stop(Q),Q}stop(J){J.destroy();const j=this.activeAnimations.indexOf(J);if(j>-1)this.activeAnimations.splice(j,1)}stopAll(){this.activeAnimations.forEach((J)=>{J.destroy()}),this.activeAnimations=[]}stopAllPan(){this.activeAnimations=this.activeAnimations.filter((J)=>{if(J.props.isPan)return J.destroy(),!1;return!0})}stopMainScroll(){this.activeAnimations=this.activeAnimations.filter((J)=>{if(J.props.isMainScroll)return J.destroy(),!1;return!0})}isPanRunning(){return this.activeAnimations.some((J)=>{return J.props.isPan})}}class u1{constructor(J){this.pswp=J,J.events.add(J.element,"wheel",this._onWheel.bind(this))}_onWheel(J){J.preventDefault();const{currSlide:j}=this.pswp;let{deltaX:Q,deltaY:G}=J;if(!j)return;if(this.pswp.dispatch("wheel",{originalEvent:J}).defaultPrevented)return;if(J.ctrlKey||this.pswp.options.wheelToZoom){if(j.isZoomable()){let Y=-G;if(J.deltaMode===1)Y*=0.05;else Y*=J.deltaMode?1:0.002;Y=2**Y;const K=j.currZoomLevel*Y;j.zoomTo(K,{x:J.clientX,y:J.clientY})}}else if(j.isPannable()){if(J.deltaMode===1)Q*=18,G*=18;j.panTo(j.pan.x-Q,j.pan.y-G)}}}class c1{constructor(J,j){var Q;const G=j.name||j.className;let Y=j.html;if(J.options[G]===!1)return;if(typeof J.options[G+"SVG"]==="string")Y=J.options[G+"SVG"];J.dispatch("uiElementCreate",{data:j});let K="";if(j.isButton)K+="pswp__button ",K+=j.className||`pswp__button--${j.name}`;else K+=j.className||`pswp__${j.name}`;let X=j.isButton?j.tagName||"button":j.tagName||"div";X=X.toLowerCase();const W=A(K,X);if(j.isButton){if(X==="button")W.type="button";let{title:q}=j;const{ariaLabel:V}=j;if(typeof J.options[G+"Title"]==="string")q=J.options[G+"Title"];if(q)W.title=q;const H=V||q;if(H)W.setAttribute("aria-label",H)}if(W.innerHTML=SJ(Y),j.onInit)j.onInit(W,J);if(j.onClick)W.onclick=(q)=>{if(typeof j.onClick==="string")J[j.onClick]();else if(typeof j.onClick==="function")j.onClick(q,W,J)};const U=j.appendTo||"bar";let B=J.element;if(U==="bar"){if(!J.topBar)J.topBar=A("pswp__top-bar pswp__hide-on-close","div",J.scrollWrap);B=J.topBar}else if(W.classList.add("pswp__hide-on-close"),U==="wrapper")B=J.scrollWrap;(Q=B)===null||Q===void 0||Q.appendChild(J.applyFilters("uiElement",W,j))}}var hJ={name:"arrowPrev",className:"pswp__button--arrow--prev",title:"Previous",order:10,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<path d="M29 43l-3 3-16-16 16-16 3 3-13 13 13 13z" id="pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"prev",onInit:d1},uJ={name:"arrowNext",className:"pswp__button--arrow--next",title:"Next",order:11,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<use xlink:href="#pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"next",onInit:(J,j)=>{d1(J,j,!0)}},cJ={name:"close",title:"Close",order:20,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M24 10l-2-2-6 6-6-6-2 2 6 6-6 6 2 2 6-6 6 6 2-2-6-6z" id="pswp__icn-close"/>',outlineID:"pswp__icn-close"},onClick:"close"},dJ={name:"zoom",title:"Zoom",order:10,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M17.426 19.926a6 6 0 1 1 1.5-1.5L23 22.5 21.5 24l-4.074-4.074z" id="pswp__icn-zoom"/><path fill="currentColor" class="pswp__zoom-icn-bar-h" d="M11 16v-2h6v2z"/><path fill="currentColor" class="pswp__zoom-icn-bar-v" d="M13 12h2v6h-2z"/>',outlineID:"pswp__icn-zoom"},onClick:"toggleZoom"},pJ={name:"preloader",appendTo:"bar",order:7,html:{isCustomSVG:!0,inner:'<path fill-rule="evenodd" clip-rule="evenodd" d="M21.2 16a5.2 5.2 0 1 1-5.2-5.2V8a8 8 0 1 0 8 8h-2.8Z" id="pswp__icn-loading"/>',outlineID:"pswp__icn-loading"},onInit:(J,j)=>{let Q,G=null;const Y=(W,U)=>{J.classList.toggle("pswp__preloader--"+W,U)},K=(W)=>{if(Q!==W)Q=W,Y("active",W)},X=()=>{var W;if(!((W=j.currSlide)!==null&&W!==void 0&&W.content.isLoading())){if(K(!1),G)clearTimeout(G),G=null;return}if(!G)G=setTimeout(()=>{var U;K(Boolean((U=j.currSlide)===null||U===void 0?void 0:U.content.isLoading())),G=null},j.options.preloaderDelay)};if(j.on("change",X),j.on("loadComplete",(W)=>{if(j.currSlide===W.slide)X()}),j.ui)j.ui.updatePreloaderVisibility=X}},mJ={name:"counter",order:5,onInit:(J,j)=>{j.on("change",()=>{J.innerText=j.currIndex+1+j.options.indexIndicatorSep+j.getNumItems()})}};class p1{constructor(J){this.pswp=J,this.isRegistered=!1,this.uiElementsData=[],this.items=[],this.updatePreloaderVisibility=()=>{},this._lastUpdatedZoomLevel=void 0}init(){const{pswp:J}=this;this.isRegistered=!1,this.uiElementsData=[cJ,hJ,uJ,dJ,pJ,mJ],J.dispatch("uiRegister"),this.uiElementsData.sort((j,Q)=>{return(j.order||0)-(Q.order||0)}),this.items=[],this.isRegistered=!0,this.uiElementsData.forEach((j)=>{this.registerElement(j)}),J.on("change",()=>{var j;(j=J.element)===null||j===void 0||j.classList.toggle("pswp--one-slide",J.getNumItems()===1)}),J.on("zoomPanUpdate",()=>this._onZoomPanUpdate())}registerElement(J){if(this.isRegistered)this.items.push(new c1(this.pswp,J));else this.uiElementsData.push(J)}_onZoomPanUpdate(){const{template:J,currSlide:j,options:Q}=this.pswp;if(this.pswp.opener.isClosing||!J||!j)return;let{currZoomLevel:G}=j;if(!this.pswp.opener.isOpen)G=j.zoomLevels.initial;if(G===this._lastUpdatedZoomLevel)return;this._lastUpdatedZoomLevel=G;const Y=j.zoomLevels.initial-j.zoomLevels.secondary;if(Math.abs(Y)<0.01||!j.isZoomable()){I1(J,!1),J.classList.remove("pswp--zoom-allowed");return}J.classList.add("pswp--zoom-allowed");const K=G===j.zoomLevels.initial?j.zoomLevels.secondary:j.zoomLevels.initial;if(I1(J,K<=G),Q.imageClickAction==="zoom"||Q.imageClickAction==="zoom-or-close")J.classList.add("pswp--click-to-zoom")}}class m1{constructor(J,j){if(this.type=J,this.defaultPrevented=!1,j)Object.assign(this,j)}preventDefault(){this.defaultPrevented=!0}}class l1{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(J,j,Q=100){var G,Y,K;if(!this._filters[J])this._filters[J]=[];(G=this._filters[J])===null||G===void 0||G.push({fn:j,priority:Q}),(Y=this._filters[J])===null||Y===void 0||Y.sort((X,W)=>X.priority-W.priority),(K=this.pswp)===null||K===void 0||K.addFilter(J,j,Q)}removeFilter(J,j){if(this._filters[J])this._filters[J]=this._filters[J].filter((Q)=>Q.fn!==j);if(this.pswp)this.pswp.removeFilter(J,j)}applyFilters(J,...j){var Q;return(Q=this._filters[J])===null||Q===void 0||Q.forEach((G)=>{j[0]=G.fn.apply(this,j)}),j[0]}on(J,j){var Q,G;if(!this._listeners[J])this._listeners[J]=[];(Q=this._listeners[J])===null||Q===void 0||Q.push(j),(G=this.pswp)===null||G===void 0||G.on(J,j)}off(J,j){var Q;if(this._listeners[J])this._listeners[J]=this._listeners[J].filter((G)=>j!==G);(Q=this.pswp)===null||Q===void 0||Q.off(J,j)}dispatch(J,j){var Q;if(this.pswp)return this.pswp.dispatch(J,j);const G=new m1(J,j);return(Q=this._listeners[J])===null||Q===void 0||Q.forEach((Y)=>{Y.call(this,G)}),G}}class r1{constructor(J,j){if(this.element=A("pswp__img pswp__img--placeholder",J?"img":"div",j),J){const Q=this.element;Q.decoding="async",Q.alt="",Q.src=J,Q.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(J,j){if(!this.element)return;if(this.element.tagName==="IMG")R0(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=l(0,0,J/250);else R0(this.element,J,j)}destroy(){var J;if((J=this.element)!==null&&J!==void 0&&J.parentNode)this.element.remove();this.element=null}}class s1{constructor(J,j,Q){if(this.instance=j,this.data=J,this.index=Q,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=F.IDLE,this.data.type)this.type=this.data.type;else if(this.data.src)this.type="image";else this.type="html";this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){if(this.placeholder&&!this.keepPlaceholder())setTimeout(()=>{if(this.placeholder)this.placeholder.destroy(),this.placeholder=void 0},1000)}load(J,j){if(this.slide&&this.usePlaceholder())if(!this.placeholder){const Q=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new r1(Q,this.slide.container)}else{const Q=this.placeholder.element;if(Q&&!Q.parentElement)this.slide.container.prepend(Q)}if(this.element&&!j)return;if(this.instance.dispatch("contentLoad",{content:this,isLazy:J}).defaultPrevented)return;if(this.isImageContent()){if(this.element=A("pswp__img","img"),this.displayedImageWidth)this.loadImage(J)}else this.element=A("pswp__content","div"),this.element.innerHTML=this.data.html||"";if(j&&this.slide)this.slide.updateContentSize(!0)}loadImage(J){var j,Q;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:J}).defaultPrevented)return;const G=this.element;if(this.updateSrcsetSizes(),this.data.srcset)G.srcset=this.data.srcset;if(G.src=(j=this.data.src)!==null&&j!==void 0?j:"",G.alt=(Q=this.data.alt)!==null&&Q!==void 0?Q:"",this.state=F.LOADING,G.complete)this.onLoaded();else G.onload=()=>{this.onLoaded()},G.onerror=()=>{this.onError()}}setSlide(J){this.slide=J,this.hasSlide=!0,this.instance=J.pswp}onLoaded(){if(this.state=F.LOADED,this.slide&&this.element){if(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode)this.append(),this.slide.updateContentSize(!0);if(this.state===F.LOADED||this.state===F.ERROR)this.removePlaceholder()}}onError(){if(this.state=F.ERROR,this.slide)this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this})}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===F.LOADING,this)}isError(){return this.state===F.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(J,j){if(!this.element)return;if(this.placeholder)this.placeholder.setDisplayedSize(J,j);if(this.instance.dispatch("contentResize",{content:this,width:J,height:j}).defaultPrevented)return;if(R0(this.element,J,j),this.isImageContent()&&!this.isError()){const Q=!this.displayedImageWidth&&J;if(this.displayedImageWidth=J,this.displayedImageHeight=j,Q)this.loadImage(!1);else this.updateSrcsetSizes();if(this.slide)this.instance.dispatch("imageSizeChange",{slide:this.slide,width:J,height:j,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==F.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const J=this.element,j=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);if(!J.dataset.largestUsedSize||j>parseInt(J.dataset.largestUsedSize,10))J.sizes=j+"px",J.dataset.largestUsedSize=String(j)}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){if(this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented)return;this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){if(this.hasSlide=!1,this.slide=void 0,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented)return;if(this.remove(),this.placeholder)this.placeholder.destroy(),this.placeholder=void 0;if(this.isImageContent()&&this.element)this.element.onload=null,this.element.onerror=null,this.element=void 0}displayError(){if(this.slide){var J,j;let Q=A("pswp__error-msg","div");Q.innerText=(J=(j=this.instance.options)===null||j===void 0?void 0:j.errorMsg)!==null&&J!==void 0?J:"",Q=this.instance.applyFilters("contentErrorElement",Q,this),this.element=A("pswp__content pswp__error-msg-container","div"),this.element.appendChild(Q),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===F.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const J="decode"in this.element;if(this.isImageContent())if(J&&this.slide&&(!this.slide.isActive||C1()))this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()});else this.appendImage();else if(this.slide&&!this.element.parentNode)this.slide.container.appendChild(this.element)}activate(){if(this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide)return;if(this.isImageContent()&&this.isDecoding&&!C1())this.appendImage();else if(this.isError())this.load(!1,!0);if(this.slide.holderElement)this.slide.holderElement.setAttribute("aria-hidden","false")}deactivate(){if(this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement)this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){if(this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented)return;if(this.element&&this.element.parentNode)this.element.remove();if(this.placeholder&&this.placeholder.element)this.placeholder.element.remove()}appendImage(){if(!this.isAttached)return;if(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented)return;if(this.slide&&this.element&&!this.element.parentNode)this.slide.container.appendChild(this.element);if(this.state===F.LOADED||this.state===F.ERROR)this.removePlaceholder()}}var oJ=5;class a1{constructor(J){this.pswp=J,this.limit=Math.max(J.options.preload[0]+J.options.preload[1]+1,oJ),this._cachedItems=[]}updateLazy(J){const{pswp:j}=this;if(j.dispatch("lazyLoad").defaultPrevented)return;const{preload:Q}=j.options,G=J===void 0?!0:J>=0;let Y;for(Y=0;Y<=Q[1];Y++)this.loadSlideByIndex(j.currIndex+(G?Y:-Y));for(Y=1;Y<=Q[0];Y++)this.loadSlideByIndex(j.currIndex+(G?-Y:Y))}loadSlideByIndex(J){const j=this.pswp.getLoopedIndex(J);let Q=this.getContentByIndex(j);if(!Q){if(Q=aJ(j,this.pswp),Q)this.addToCache(Q)}}getContentBySlide(J){let j=this.getContentByIndex(J.index);if(!j)j=this.pswp.createContentFromData(J.data,J.index),this.addToCache(j);return j.setSlide(J),j}addToCache(J){if(this.removeByIndex(J.index),this._cachedItems.push(J),this._cachedItems.length>this.limit){const j=this._cachedItems.findIndex((Q)=>{return!Q.isAttached&&!Q.hasSlide});if(j!==-1)this._cachedItems.splice(j,1)[0].destroy()}}removeByIndex(J){const j=this._cachedItems.findIndex((Q)=>Q.index===J);if(j!==-1)this._cachedItems.splice(j,1)}getContentByIndex(J){return this._cachedItems.find((j)=>j.index===J)}destroy(){this._cachedItems.forEach((J)=>J.destroy()),this._cachedItems=[]}}class i1 extends l1{getNumItems(){var J;let j=0;const Q=(J=this.options)===null||J===void 0?void 0:J.dataSource;if(Q&&("length"in Q))j=Q.length;else if(Q&&("gallery"in Q)){if(!Q.items)Q.items=this._getGalleryDOMElements(Q.gallery);if(Q.items)j=Q.items.length}const G=this.dispatch("numItems",{dataSource:Q,numItems:j});return this.applyFilters("numItems",G.numItems,Q)}createContentFromData(J,j){return new s1(J,this,j)}getItemData(J){var j;const Q=(j=this.options)===null||j===void 0?void 0:j.dataSource;let G={};if(Array.isArray(Q))G=Q[J];else if(Q&&("gallery"in Q)){if(!Q.items)Q.items=this._getGalleryDOMElements(Q.gallery);G=Q.items[J]}let Y=G;if(Y instanceof Element)Y=this._domElementToItemData(Y);const K=this.dispatch("itemData",{itemData:Y||{},index:J});return this.applyFilters("itemData",K.itemData,J)}_getGalleryDOMElements(J){var j,Q;if((j=this.options)!==null&&j!==void 0&&j.children||(Q=this.options)!==null&&Q!==void 0&&Q.childSelector)return RJ(this.options.children,this.options.childSelector,J)||[];return[J]}_domElementToItemData(J){const j={element:J},Q=J.tagName==="A"?J:J.querySelector("a");if(Q){if(j.src=Q.dataset.pswpSrc||Q.href,Q.dataset.pswpSrcset)j.srcset=Q.dataset.pswpSrcset;if(j.width=Q.dataset.pswpWidth?parseInt(Q.dataset.pswpWidth,10):0,j.height=Q.dataset.pswpHeight?parseInt(Q.dataset.pswpHeight,10):0,j.w=j.width,j.h=j.height,Q.dataset.pswpType)j.type=Q.dataset.pswpType;const Y=J.querySelector("img");if(Y){var G;j.msrc=Y.currentSrc||Y.src,j.alt=(G=Y.getAttribute("alt"))!==null&&G!==void 0?G:""}if(Q.dataset.pswpCropped||Q.dataset.cropped)j.thumbCropped=!0}return this.applyFilters("domItemData",j,J,Q)}lazyLoadData(J,j){return o1(J,this,j)}}var d=0.003;class n1{constructor(J){this.pswp=J,this.isClosed=!0,this.isOpen=!1,this.isClosing=!1,this.isOpening=!1,this._duration=void 0,this._useAnimation=!1,this._croppedZoom=!1,this._animateRootOpacity=!1,this._animateBgOpacity=!1,this._placeholder=void 0,this._opacityElement=void 0,this._cropContainer1=void 0,this._cropContainer2=void 0,this._thumbBounds=void 0,this._prepareOpen=this._prepareOpen.bind(this),J.on("firstZoomPan",this._prepareOpen)}open(){this._prepareOpen(),this._start()}close(){if(this.isClosed||this.isClosing||this.isOpening)return;const J=this.pswp.currSlide;if(this.isOpen=!1,this.isOpening=!1,this.isClosing=!0,this._duration=this.pswp.options.hideAnimationDuration,J&&J.currZoomLevel*J.width>=this.pswp.options.maxWidthToAnimate)this._duration=0;this._applyStartProps(),setTimeout(()=>{this._start()},this._croppedZoom?30:0)}_prepareOpen(){if(this.pswp.off("firstZoomPan",this._prepareOpen),!this.isOpening){const J=this.pswp.currSlide;if(this.isOpening=!0,this.isClosing=!1,this._duration=this.pswp.options.showAnimationDuration,J&&J.zoomLevels.initial*J.width>=this.pswp.options.maxWidthToAnimate)this._duration=0;this._applyStartProps()}}_applyStartProps(){const{pswp:J}=this,j=this.pswp.currSlide,{options:Q}=J;if(Q.showHideAnimationType==="fade")Q.showHideOpacity=!0,this._thumbBounds=void 0;else if(Q.showHideAnimationType==="none")Q.showHideOpacity=!1,this._duration=0,this._thumbBounds=void 0;else if(this.isOpening&&J._initialThumbBounds)this._thumbBounds=J._initialThumbBounds;else this._thumbBounds=this.pswp.getThumbBounds();if(this._placeholder=j===null||j===void 0?void 0:j.getPlaceholderElement(),J.animations.stopAll(),this._useAnimation=Boolean(this._duration&&this._duration>50),this._animateZoom=Boolean(this._thumbBounds)&&(j===null||j===void 0?void 0:j.content.usePlaceholder())&&(!this.isClosing||!J.mainScroll.isShifted()),!this._animateZoom){if(this._animateRootOpacity=!0,this.isOpening&&j)j.zoomAndPanToInitial(),j.applyCurrentZoomPan()}else{var G;this._animateRootOpacity=(G=Q.showHideOpacity)!==null&&G!==void 0?G:!1}if(this._animateBgOpacity=!this._animateRootOpacity&&this.pswp.options.bgOpacity>d,this._opacityElement=this._animateRootOpacity?J.element:J.bg,!this._useAnimation){if(this._duration=0,this._animateZoom=!1,this._animateBgOpacity=!1,this._animateRootOpacity=!0,this.isOpening){if(J.element)J.element.style.opacity=String(d);J.applyBgOpacity(1)}return}if(this._animateZoom&&this._thumbBounds&&this._thumbBounds.innerRect){var Y;if(this._croppedZoom=!0,this._cropContainer1=this.pswp.container,this._cropContainer2=(Y=this.pswp.currSlide)===null||Y===void 0?void 0:Y.holderElement,J.container)J.container.style.overflow="hidden",J.container.style.width=J.viewportSize.x+"px"}else this._croppedZoom=!1;if(this.isOpening){if(this._animateRootOpacity){if(J.element)J.element.style.opacity=String(d);J.applyBgOpacity(1)}else{if(this._animateBgOpacity&&J.bg)J.bg.style.opacity=String(d);if(J.element)J.element.style.opacity="1"}if(this._animateZoom){if(this._setClosedStateZoomPan(),this._placeholder)this._placeholder.style.willChange="transform",this._placeholder.style.opacity=String(d)}}else if(this.isClosing){if(J.mainScroll.itemHolders[0])J.mainScroll.itemHolders[0].el.style.display="none";if(J.mainScroll.itemHolders[2])J.mainScroll.itemHolders[2].el.style.display="none";if(this._croppedZoom){if(J.mainScroll.x!==0)J.mainScroll.resetPosition(),J.mainScroll.resize()}}}_start(){if(this.isOpening&&this._useAnimation&&this._placeholder&&this._placeholder.tagName==="IMG")new Promise((J)=>{let j=!1,Q=!0;kJ(this._placeholder).finally(()=>{if(j=!0,!Q)J(!0)}),setTimeout(()=>{if(Q=!1,j)J(!0)},50),setTimeout(J,250)}).finally(()=>this._initiate());else this._initiate()}_initiate(){var J,j;if((J=this.pswp.element)===null||J===void 0||J.style.setProperty("--pswp-transition-duration",this._duration+"ms"),this.pswp.dispatch(this.isOpening?"openingAnimationStart":"closingAnimationStart"),this.pswp.dispatch("initialZoom"+(this.isOpening?"In":"Out")),(j=this.pswp.element)===null||j===void 0||j.classList.toggle("pswp--ui-visible",this.isOpening),this.isOpening){if(this._placeholder)this._placeholder.style.opacity="1";this._animateToOpenState()}else if(this.isClosing)this._animateToClosedState();if(!this._useAnimation)this._onAnimationComplete()}_onAnimationComplete(){const{pswp:J}=this;if(this.isOpen=this.isOpening,this.isClosed=this.isClosing,this.isOpening=!1,this.isClosing=!1,J.dispatch(this.isOpen?"openingAnimationEnd":"closingAnimationEnd"),J.dispatch("initialZoom"+(this.isOpen?"InEnd":"OutEnd")),this.isClosed)J.destroy();else if(this.isOpen){var j;if(this._animateZoom&&J.container)J.container.style.overflow="visible",J.container.style.width="100%";(j=J.currSlide)===null||j===void 0||j.applyCurrentZoomPan()}}_animateToOpenState(){const{pswp:J}=this;if(this._animateZoom){if(this._croppedZoom&&this._cropContainer1&&this._cropContainer2)this._animateTo(this._cropContainer1,"transform","translate3d(0,0,0)"),this._animateTo(this._cropContainer2,"transform","none");if(J.currSlide)J.currSlide.zoomAndPanToInitial(),this._animateTo(J.currSlide.container,"transform",J.currSlide.getCurrentTransform())}if(this._animateBgOpacity&&J.bg)this._animateTo(J.bg,"opacity",String(J.options.bgOpacity));if(this._animateRootOpacity&&J.element)this._animateTo(J.element,"opacity","1")}_animateToClosedState(){const{pswp:J}=this;if(this._animateZoom)this._setClosedStateZoomPan(!0);if(this._animateBgOpacity&&J.bgOpacity>0.01&&J.bg)this._animateTo(J.bg,"opacity","0");if(this._animateRootOpacity&&J.element)this._animateTo(J.element,"opacity","0")}_setClosedStateZoomPan(J){if(!this._thumbBounds)return;const{pswp:j}=this,{innerRect:Q}=this._thumbBounds,{currSlide:G,viewportSize:Y}=j;if(this._croppedZoom&&Q&&this._cropContainer1&&this._cropContainer2){const K=-Y.x+(this._thumbBounds.x-Q.x)+Q.w,X=-Y.y+(this._thumbBounds.y-Q.y)+Q.h,W=Y.x-Q.w,U=Y.y-Q.h;if(J)this._animateTo(this._cropContainer1,"transform",l(K,X)),this._animateTo(this._cropContainer2,"transform",l(W,U));else v(this._cropContainer1,K,X),v(this._cropContainer2,W,U)}if(G)if(Z(G.pan,Q||this._thumbBounds),G.currZoomLevel=this._thumbBounds.w/G.width,J)this._animateTo(G.container,"transform",G.getCurrentTransform());else G.applyCurrentZoomPan()}_animateTo(J,j,Q){if(!this._duration){J.style[j]=Q;return}const{animations:G}=this.pswp,Y={duration:this._duration,easing:this.pswp.options.easing,onComplete:()=>{if(!G.activeAnimations.length)this._onAnimationComplete()},target:J};Y[j]=Q,G.startTransition(Y)}}var iJ={allowPanToNext:!0,spacing:0.1,loop:!0,pinchToClose:!0,closeOnVerticalDrag:!0,hideAnimationDuration:333,showAnimationDuration:333,zoomAnimationDuration:333,escKey:!0,arrowKeys:!0,trapFocus:!0,returnFocus:!0,maxWidthToAnimate:4000,clickToCloseNonZoomable:!0,imageClickAction:"zoom-or-close",bgClickAction:"close",tapAction:"toggle-controls",doubleTapAction:"zoom",indexIndicatorSep:" / ",preloaderDelay:2000,bgOpacity:0.8,index:0,errorMsg:"The image cannot be loaded",preload:[1,2],easing:"cubic-bezier(.4,0,.22,1)"};class T0 extends i1{constructor(J){super();this.options=this._prepareOptions(J||{}),this.offset={x:0,y:0},this._prevViewportSize={x:0,y:0},this.viewportSize={x:0,y:0},this.bgOpacity=1,this.currIndex=0,this.potentialIndex=0,this.isOpen=!1,this.isDestroying=!1,this.hasMouse=!1,this._initialItemData={},this._initialThumbBounds=void 0,this.topBar=void 0,this.element=void 0,this.template=void 0,this.container=void 0,this.scrollWrap=void 0,this.currSlide=void 0,this.events=new P1,this.animations=new h1,this.mainScroll=new f1(this),this.gestures=new _1(this),this.opener=new n1(this),this.keyboard=new v1(this),this.contentLoader=new a1(this)}init(){if(this.isOpen||this.isDestroying)return!1;this.isOpen=!0,this.dispatch("init"),this.dispatch("beforeOpen"),this._createMainStructure();let J="pswp--open";if(this.gestures.supportsTouch)J+=" pswp--touch";if(this.options.mainClass)J+=" "+this.options.mainClass;if(this.element)this.element.className+=" "+J;if(this.currIndex=this.options.index||0,this.potentialIndex=this.currIndex,this.dispatch("firstUpdate"),this.scrollWheel=new u1(this),Number.isNaN(this.currIndex)||this.currIndex<0||this.currIndex>=this.getNumItems())this.currIndex=0;if(!this.gestures.supportsTouch)this.mouseDetected();if(this.updateSize(),this.offset.y=window.pageYOffset,this._initialItemData=this.getItemData(this.currIndex),this.dispatch("gettingData",{index:this.currIndex,data:this._initialItemData,slide:void 0}),this._initialThumbBounds=this.getThumbBounds(),this.dispatch("initialLayout"),this.on("openingAnimationEnd",()=>{const{itemHolders:j}=this.mainScroll;if(j[0])j[0].el.style.display="block",this.setContent(j[0],this.currIndex-1);if(j[2])j[2].el.style.display="block",this.setContent(j[2],this.currIndex+1);this.appendHeavy(),this.contentLoader.updateLazy(),this.events.add(window,"resize",this._handlePageResize.bind(this)),this.events.add(window,"scroll",this._updatePageScrollOffset.bind(this)),this.dispatch("bindEvents")}),this.mainScroll.itemHolders[1])this.setContent(this.mainScroll.itemHolders[1],this.currIndex);return this.dispatch("change"),this.opener.open(),this.dispatch("afterInit"),!0}getLoopedIndex(J){const j=this.getNumItems();if(this.options.loop){if(J>j-1)J-=j;if(J<0)J+=j}return r(J,0,j-1)}appendHeavy(){this.mainScroll.itemHolders.forEach((J)=>{var j;(j=J.slide)===null||j===void 0||j.appendHeavy()})}goTo(J){this.mainScroll.moveIndexBy(this.getLoopedIndex(J)-this.potentialIndex)}next(){this.goTo(this.potentialIndex+1)}prev(){this.goTo(this.potentialIndex-1)}zoomTo(...J){var j;(j=this.currSlide)===null||j===void 0||j.zoomTo(...J)}toggleZoom(){var J;(J=this.currSlide)===null||J===void 0||J.toggleZoom()}close(){if(!this.opener.isOpen||this.isDestroying)return;this.isDestroying=!0,this.dispatch("close"),this.events.removeAll(),this.opener.close()}destroy(){var J;if(!this.isDestroying){this.options.showHideAnimationType="none",this.close();return}if(this.dispatch("destroy"),this._listeners={},this.scrollWrap)this.scrollWrap.ontouchmove=null,this.scrollWrap.ontouchend=null;(J=this.element)===null||J===void 0||J.remove(),this.mainScroll.itemHolders.forEach((j)=>{var Q;(Q=j.slide)===null||Q===void 0||Q.destroy()}),this.contentLoader.destroy(),this.events.removeAll()}refreshSlideContent(J){this.contentLoader.removeByIndex(J),this.mainScroll.itemHolders.forEach((j,Q)=>{var G,Y;let K=((G=(Y=this.currSlide)===null||Y===void 0?void 0:Y.index)!==null&&G!==void 0?G:0)-1+Q;if(this.canLoop())K=this.getLoopedIndex(K);if(K===J){if(this.setContent(j,J,!0),Q===1){var X;this.currSlide=j.slide,(X=j.slide)===null||X===void 0||X.setIsActive(!0)}}}),this.dispatch("change")}setContent(J,j,Q){if(this.canLoop())j=this.getLoopedIndex(j);if(J.slide){if(J.slide.index===j&&!Q)return;J.slide.destroy(),J.slide=void 0}if(!this.canLoop()&&(j<0||j>=this.getNumItems()))return;const G=this.getItemData(j);if(J.slide=new $1(G,j,this),j===this.currIndex)this.currSlide=J.slide;J.slide.append(J.el)}getViewportCenterPoint(){return{x:this.viewportSize.x/2,y:this.viewportSize.y/2}}updateSize(J){if(this.isDestroying)return;const j=T1(this.options,this);if(!J&&m(j,this._prevViewportSize))return;if(Z(this._prevViewportSize,j),this.dispatch("beforeResize"),Z(this.viewportSize,this._prevViewportSize),this._updatePageScrollOffset(),this.dispatch("viewportSize"),this.mainScroll.resize(this.opener.isOpen),!this.hasMouse&&window.matchMedia("(any-hover: hover)").matches)this.mouseDetected();this.dispatch("resize")}applyBgOpacity(J){if(this.bgOpacity=Math.max(J,0),this.bg)this.bg.style.opacity=String(this.bgOpacity*this.options.bgOpacity)}mouseDetected(){if(!this.hasMouse){var J;this.hasMouse=!0,(J=this.element)===null||J===void 0||J.classList.add("pswp--has_mouse")}}_handlePageResize(){if(this.updateSize(),/iPhone|iPad|iPod/i.test(window.navigator.userAgent))setTimeout(()=>{this.updateSize()},500)}_updatePageScrollOffset(){this.setScrollOffset(0,window.pageYOffset)}setScrollOffset(J,j){this.offset.x=J,this.offset.y=j,this.dispatch("updateScrollOffset")}_createMainStructure(){this.element=A("pswp","div"),this.element.setAttribute("tabindex","-1"),this.element.setAttribute("role","dialog"),this.template=this.element,this.bg=A("pswp__bg","div",this.element),this.scrollWrap=A("pswp__scroll-wrap","section",this.element),this.container=A("pswp__container","div",this.scrollWrap),this.scrollWrap.setAttribute("aria-roledescription","carousel"),this.container.setAttribute("aria-live","off"),this.container.setAttribute("id","pswp__items"),this.mainScroll.appendHolders(),this.ui=new p1(this),this.ui.init(),(this.options.appendToEl||document.body).appendChild(this.element)}getThumbBounds(){return sJ(this.currIndex,this.currSlide?this.currSlide.data:this._initialItemData,this)}canLoop(){return this.options.loop&&this.getNumItems()>2}_prepareOptions(J){if(window.matchMedia("(prefers-reduced-motion), (update: slow)").matches)J.showHideAnimationType="none",J.zoomAnimationDuration=0;return{...iJ,...J}}}var s=function(J,j,Q){const G=document.createElement(j);if(J)G.className=J;if(Q)Q.appendChild(G);return G},nJ=function(J,j,Q){let G=`translate3d(${J}px,${j||0}px,0)`;if(Q!==void 0)G+=` scale3d(${Q},${Q},1)`;return G},D0=function(J,j,Q){J.style.width=typeof j==="number"?`${j}px`:j,J.style.height=typeof Q==="number"?`${Q}px`:Q},tJ=function(J){return("button"in J)&&J.button===1||J.ctrlKey||J.metaKey||J.altKey||J.shiftKey},U0=function(J,j,Q=document){let G=[];if(J instanceof Element)G=[J];else if(J instanceof NodeList||Array.isArray(J))G=Array.from(J);else{const Y=typeof J==="string"?J:j;if(Y)G=Array.from(Q.querySelectorAll(Y))}return G},eJ=function(J){return typeof J==="function"&&J.prototype&&J.prototype.goTo},t1=function(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))},J6=function(J,j){if(J.getViewportSizeFn){const Q=J.getViewportSizeFn(J,j);if(Q)return Q}return{x:document.documentElement.clientWidth,y:window.innerHeight}},W0=function(J,j,Q,G,Y){let K=0;if(j.paddingFn)K=j.paddingFn(Q,G,Y)[J];else if(j.padding)K=j.padding[J];else{const X="padding"+J[0].toUpperCase()+J.slice(1);if(j[X])K=j[X]}return Number(K)||0},j6=function(J,j,Q,G){return{x:j.x-W0("left",J,j,Q,G)-W0("right",J,j,Q,G),y:j.y-W0("top",J,j,Q,G)-W0("bottom",J,j,Q,G)}},K9=function(J,j,Q){const G=j.createContentFromData(J,Q);let Y;const{options:K}=j;if(K){Y=new Y9(K,J,-1);let X;if(j.pswp)X=j.pswp.viewportSize;else X=J6(K,j);const W=j6(K,X,J,Q);Y.update(G.width,G.height,W)}if(G.lazyLoad(),Y)G.setDisplayedSize(Math.ceil(G.width*Y.initial),Math.ceil(G.height*Y.initial));return G},Q6=function(J,j){const Q=j.getItemData(J);if(j.dispatch("lazyLoadSlide",{index:J,itemData:Q}).defaultPrevented)return;return K9(Q,j,J)};/*!
  * PhotoSwipe Lightbox 5.4.1 - https://photoswipe.com
  * (c) 2023 Dmytro Semenov
  */var M={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};class J9{constructor(J,j){if(this.type=J,this.defaultPrevented=!1,j)Object.assign(this,j)}preventDefault(){this.defaultPrevented=!0}}class j9{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(J,j,Q=100){var G,Y,K;if(!this._filters[J])this._filters[J]=[];(G=this._filters[J])===null||G===void 0||G.push({fn:j,priority:Q}),(Y=this._filters[J])===null||Y===void 0||Y.sort((X,W)=>X.priority-W.priority),(K=this.pswp)===null||K===void 0||K.addFilter(J,j,Q)}removeFilter(J,j){if(this._filters[J])this._filters[J]=this._filters[J].filter((Q)=>Q.fn!==j);if(this.pswp)this.pswp.removeFilter(J,j)}applyFilters(J,...j){var Q;return(Q=this._filters[J])===null||Q===void 0||Q.forEach((G)=>{j[0]=G.fn.apply(this,j)}),j[0]}on(J,j){var Q,G;if(!this._listeners[J])this._listeners[J]=[];(Q=this._listeners[J])===null||Q===void 0||Q.push(j),(G=this.pswp)===null||G===void 0||G.on(J,j)}off(J,j){var Q;if(this._listeners[J])this._listeners[J]=this._listeners[J].filter((G)=>j!==G);(Q=this.pswp)===null||Q===void 0||Q.off(J,j)}dispatch(J,j){var Q;if(this.pswp)return this.pswp.dispatch(J,j);const G=new J9(J,j);return(Q=this._listeners[J])===null||Q===void 0||Q.forEach((Y)=>{Y.call(this,G)}),G}}class Q9{constructor(J,j){if(this.element=s("pswp__img pswp__img--placeholder",J?"img":"div",j),J){const Q=this.element;Q.decoding="async",Q.alt="",Q.src=J,Q.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(J,j){if(!this.element)return;if(this.element.tagName==="IMG")D0(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=nJ(0,0,J/250);else D0(this.element,J,j)}destroy(){var J;if((J=this.element)!==null&&J!==void 0&&J.parentNode)this.element.remove();this.element=null}}class G9{constructor(J,j,Q){if(this.instance=j,this.data=J,this.index=Q,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=M.IDLE,this.data.type)this.type=this.data.type;else if(this.data.src)this.type="image";else this.type="html";this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){if(this.placeholder&&!this.keepPlaceholder())setTimeout(()=>{if(this.placeholder)this.placeholder.destroy(),this.placeholder=void 0},1000)}load(J,j){if(this.slide&&this.usePlaceholder())if(!this.placeholder){const Q=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new Q9(Q,this.slide.container)}else{const Q=this.placeholder.element;if(Q&&!Q.parentElement)this.slide.container.prepend(Q)}if(this.element&&!j)return;if(this.instance.dispatch("contentLoad",{content:this,isLazy:J}).defaultPrevented)return;if(this.isImageContent()){if(this.element=s("pswp__img","img"),this.displayedImageWidth)this.loadImage(J)}else this.element=s("pswp__content","div"),this.element.innerHTML=this.data.html||"";if(j&&this.slide)this.slide.updateContentSize(!0)}loadImage(J){var j,Q;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:J}).defaultPrevented)return;const G=this.element;if(this.updateSrcsetSizes(),this.data.srcset)G.srcset=this.data.srcset;if(G.src=(j=this.data.src)!==null&&j!==void 0?j:"",G.alt=(Q=this.data.alt)!==null&&Q!==void 0?Q:"",this.state=M.LOADING,G.complete)this.onLoaded();else G.onload=()=>{this.onLoaded()},G.onerror=()=>{this.onError()}}setSlide(J){this.slide=J,this.hasSlide=!0,this.instance=J.pswp}onLoaded(){if(this.state=M.LOADED,this.slide&&this.element){if(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode)this.append(),this.slide.updateContentSize(!0);if(this.state===M.LOADED||this.state===M.ERROR)this.removePlaceholder()}}onError(){if(this.state=M.ERROR,this.slide)this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this})}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===M.LOADING,this)}isError(){return this.state===M.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(J,j){if(!this.element)return;if(this.placeholder)this.placeholder.setDisplayedSize(J,j);if(this.instance.dispatch("contentResize",{content:this,width:J,height:j}).defaultPrevented)return;if(D0(this.element,J,j),this.isImageContent()&&!this.isError()){const Q=!this.displayedImageWidth&&J;if(this.displayedImageWidth=J,this.displayedImageHeight=j,Q)this.loadImage(!1);else this.updateSrcsetSizes();if(this.slide)this.instance.dispatch("imageSizeChange",{slide:this.slide,width:J,height:j,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==M.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const J=this.element,j=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);if(!J.dataset.largestUsedSize||j>parseInt(J.dataset.largestUsedSize,10))J.sizes=j+"px",J.dataset.largestUsedSize=String(j)}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){if(this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented)return;this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){if(this.hasSlide=!1,this.slide=void 0,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented)return;if(this.remove(),this.placeholder)this.placeholder.destroy(),this.placeholder=void 0;if(this.isImageContent()&&this.element)this.element.onload=null,this.element.onerror=null,this.element=void 0}displayError(){if(this.slide){var J,j;let Q=s("pswp__error-msg","div");Q.innerText=(J=(j=this.instance.options)===null||j===void 0?void 0:j.errorMsg)!==null&&J!==void 0?J:"",Q=this.instance.applyFilters("contentErrorElement",Q,this),this.element=s("pswp__content pswp__error-msg-container","div"),this.element.appendChild(Q),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===M.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const J="decode"in this.element;if(this.isImageContent())if(J&&this.slide&&(!this.slide.isActive||t1()))this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()});else this.appendImage();else if(this.slide&&!this.element.parentNode)this.slide.container.appendChild(this.element)}activate(){if(this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide)return;if(this.isImageContent()&&this.isDecoding&&!t1())this.appendImage();else if(this.isError())this.load(!1,!0);if(this.slide.holderElement)this.slide.holderElement.setAttribute("aria-hidden","false")}deactivate(){if(this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement)this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){if(this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented)return;if(this.element&&this.element.parentNode)this.element.remove();if(this.placeholder&&this.placeholder.element)this.placeholder.element.remove()}appendImage(){if(!this.isAttached)return;if(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented)return;if(this.slide&&this.element&&!this.element.parentNode)this.slide.container.appendChild(this.element);if(this.state===M.LOADED||this.state===M.ERROR)this.removePlaceholder()}}var e1=4000;class Y9{constructor(J,j,Q,G){this.pswp=G,this.options=J,this.itemData=j,this.index=Q,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(J,j,Q){const G={x:J,y:j};this.elementSize=G,this.panAreaSize=Q;const Y=Q.x/G.x,K=Q.y/G.y;if(this.fit=Math.min(1,Y<K?Y:K),this.fill=Math.min(1,Y>K?Y:K),this.vFill=Math.min(1,K),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp)this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(J){const j=J+"ZoomLevel",Q=this.options[j];if(!Q)return;if(typeof Q==="function")return Q(this);if(Q==="fill")return this.fill;if(Q==="fit")return this.fit;return Number(Q)}_getSecondary(){let J=this._parseZoomLevelOption("secondary");if(J)return J;if(J=Math.min(1,this.fit*3),this.elementSize&&J*this.elementSize.x>e1)J=e1/this.elementSize.x;return J}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}class X9 extends j9{getNumItems(){var J;let j=0;const Q=(J=this.options)===null||J===void 0?void 0:J.dataSource;if(Q&&("length"in Q))j=Q.length;else if(Q&&("gallery"in Q)){if(!Q.items)Q.items=this._getGalleryDOMElements(Q.gallery);if(Q.items)j=Q.items.length}const G=this.dispatch("numItems",{dataSource:Q,numItems:j});return this.applyFilters("numItems",G.numItems,Q)}createContentFromData(J,j){return new G9(J,this,j)}getItemData(J){var j;const Q=(j=this.options)===null||j===void 0?void 0:j.dataSource;let G={};if(Array.isArray(Q))G=Q[J];else if(Q&&("gallery"in Q)){if(!Q.items)Q.items=this._getGalleryDOMElements(Q.gallery);G=Q.items[J]}let Y=G;if(Y instanceof Element)Y=this._domElementToItemData(Y);const K=this.dispatch("itemData",{itemData:Y||{},index:J});return this.applyFilters("itemData",K.itemData,J)}_getGalleryDOMElements(J){var j,Q;if((j=this.options)!==null&&j!==void 0&&j.children||(Q=this.options)!==null&&Q!==void 0&&Q.childSelector)return U0(this.options.children,this.options.childSelector,J)||[];return[J]}_domElementToItemData(J){const j={element:J},Q=J.tagName==="A"?J:J.querySelector("a");if(Q){if(j.src=Q.dataset.pswpSrc||Q.href,Q.dataset.pswpSrcset)j.srcset=Q.dataset.pswpSrcset;if(j.width=Q.dataset.pswpWidth?parseInt(Q.dataset.pswpWidth,10):0,j.height=Q.dataset.pswpHeight?parseInt(Q.dataset.pswpHeight,10):0,j.w=j.width,j.h=j.height,Q.dataset.pswpType)j.type=Q.dataset.pswpType;const Y=J.querySelector("img");if(Y){var G;j.msrc=Y.currentSrc||Y.src,j.alt=(G=Y.getAttribute("alt"))!==null&&G!==void 0?G:""}if(Q.dataset.pswpCropped||Q.dataset.cropped)j.thumbCropped=!0}return this.applyFilters("domItemData",j,J,Q)}lazyLoadData(J,j){return K9(J,this,j)}}class L0 extends X9{constructor(J){super();this.options=J||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){U0(this.options.gallery,this.options.gallerySelector).forEach((J)=>{J.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(J){if(tJ(J)||window.pswp)return;let j={x:J.clientX,y:J.clientY};if(!j.x&&!j.y)j=null;let Q=this.getClickedIndex(J);Q=this.applyFilters("clickedIndex",Q,J,this);const G={gallery:J.currentTarget};if(Q>=0)J.preventDefault(),this.loadAndOpen(Q,G,j)}getClickedIndex(J){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,J);const j=J.target,G=U0(this.options.children,this.options.childSelector,J.currentTarget).findIndex((Y)=>Y===j||Y.contains(j));if(G!==-1)return G;else if(this.options.children||this.options.childSelector)return-1;return 0}loadAndOpen(J,j,Q){if(window.pswp)return!1;return this.options.index=J,this.options.initialPointerPos=Q,this.shouldOpen=!0,this.preload(J,j),!0}preload(J,j){const{options:Q}=this;if(j)Q.dataSource=j;const G=[],Y=typeof Q.pswpModule;if(eJ(Q.pswpModule))G.push(Promise.resolve(Q.pswpModule));else if(Y==="string")throw new Error("pswpModule as string is no longer supported");else if(Y==="function")G.push(Q.pswpModule());else throw new Error("pswpModule is not valid");if(typeof Q.openPromise==="function")G.push(Q.openPromise());if(Q.preloadFirstSlide!==!1&&J>=0)this._preloadedContent=Q6(J,this);const K=++this._uid;Promise.all(G).then((X)=>{if(this.shouldOpen){const W=X[0];this._openPhotoswipe(W,K)}})}_openPhotoswipe(J,j){if(j!==this._uid&&this.shouldOpen)return;if(this.shouldOpen=!1,window.pswp)return;const Q=typeof J==="object"?new J.default(this.options):new J(this.options);if(this.pswp=Q,window.pswp=Q,Object.keys(this._listeners).forEach((G)=>{var Y;(Y=this._listeners[G])===null||Y===void 0||Y.forEach((K)=>{Q.on(G,K)})}),Object.keys(this._filters).forEach((G)=>{var Y;(Y=this._filters[G])===null||Y===void 0||Y.forEach((K)=>{Q.addFilter(G,K.fn,K.priority)})}),this._preloadedContent)Q.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0;Q.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),Q.init()}destroy(){var J;(J=this.pswp)===null||J===void 0||J.destroy(),this.shouldOpen=!1,this._listeners={},U0(this.options.gallery,this.options.gallerySelector).forEach((j)=>{j.removeEventListener("click",this.onThumbnailsClick,!1)})}}var G6=function(J){const j=document.createElement("a");return j.target="_blank",j.href=J.src,j.setAttribute("data-pswp-src",`${J.src}`),j.setAttribute("data-pswp-width",`${J.getAttribute("width")}`),j.setAttribute("data-pswp-height",`${J.getAttribute("height")}`),j.classList.add("photoswipe","no-hover-padding"),j},Y6=function(J,j){J.parentNode?.insertBefore(j,J),j.appendChild(J)};function $0(){const J=document.querySelectorAll("article img");if(J.forEach((j)=>{Y6(j,G6(j))}),J)new L0({gallery:"article",children:".photoswipe",pswpModule:T0}).init()}function K6(){const J=document.getElementsByClassName("toc-highlight");for(let j of J)j.classList.remove("toc-highlight")}var x0=function(J){if(K6(),J||window.location.hash)document.getElementById(J?.substring(1)??window.location.hash.substring(1))?.classList.add("toc-highlight")},X6=function(){const J=document.getElementById("toc-toggle");document.querySelectorAll(".toc-container a").forEach((Q)=>{Q.addEventListener("click",()=>{J.checked=!1,x0(Q.hash)})})},W6=function(){document.querySelectorAll(".header-anchor").forEach((j)=>{j.addEventListener("click",()=>{x0(j.hash)})})};function o(){x0(),W6(),X6()}var U9=function(J,j=!1){if(document.documentElement.setAttribute("data-theme",J),W9=J,j)localStorage.setItem("theme",J);const Q=new CustomEvent("themeChanged",{detail:{theme:J}});window.dispatchEvent(Q)},U6=function(){U9(W9==="dark"?"light":"dark",!0)},W9=localStorage.getItem("theme")||document.documentElement.getAttribute("data-theme");window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(J)=>{const j=J.matches?"dark":"light";U9(j)});function b0(){document.querySelector(".theme-switcher")?.addEventListener("click",U6,!1)}document.addEventListener("turbo:load",()=>{M0(),I0(),k0(),$0(),o(),b0()});document.addEventListener("turbo:before-render",()=>{o()});
